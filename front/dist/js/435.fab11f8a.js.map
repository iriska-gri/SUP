{"version":3,"file":"js/435.fab11f8a.js","mappings":"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CA,IACA,yBAGA,CAFA,wBACA,qBACA,MAGA,cAEA,GAMA,EAEA,YACA,qCACA,iDACA,wDACA,8BACA,gCACA,gCACA,iFAEA,oBACA,yBACA,mDACA,mHACA,oCACA,oCACA,EAEA,aACA,qDACA,sBACA,EAEA,eACA,sDACA,mDACA,EAEA,YACA,gDACA,uCACA,kCACA,yDAGA,sEAEA,cACA,EAEA,kBACA,IACA,gDACA,yDACA,wCACA,gDACA,QACA,EAEA,aACA,YACA,eAEA,sEACA,4CAEA,iCAEA,EAEA,cACA,yBACA,EAEA,SACA,eACA,sBACA,oCACA,iBACA,EAEA,eACA,kBACA,sDACA,gCACA,EAEA,iBACA,sBACA,aACA,wBAKA,kBACA,0BAEA,EAGA,aACA,4BACA,EACA,aAEA,sBACA,6CAEA,iFAEA,kBACA,aACA,0BACA,EAEA,eACA,sCACA,EAEA,iBACA,gBACA,EACA,aAEA,4BACA,EAEA,gBACA,qBACA,IACA,eACA,UACA,aACA,iFACA,kCAIA,IACA,6BACA,qFACA,gCAGA,iBACA,8EAEA,EAIA,aACA,6BACA,4CACA,EAGA,aACA,0DACA,qBACA,EAQA,oBACA,cACA,gDAEA,EAEA,gBACA,eACA,mBACA,GACA,YACA,gBACA,kBACA,gBACA,qBAIA,oBAGA,0CACA,8CAEA,aACA,8CACA,sBAEA,kCACA,EAIA,SACA,eACA,0CACA,4DACA,yBAGA,qFAEA,sBACA,0BAEA,iBACA,sBACA,iEAEA,2CACA,iFACA,2BAEA,2BACA,kBACA,0BAEA,EAEA,sBACA,kBACA,kFACA,gGACA,4EAGA,EAGA,aACA,sBACA,wCACA,IACA,4EACA,6CACA,qCACA,kGAKA,CAFA,MACA,iBACA,CACA,mCACA,EAKA,gBAEA,uCAEA,UACA,uBACA,qFACA,iBAKA,+CACA,+CAGA,EAEA,eAGA,gFAEA,EAEA,qBAGA,+DACA,wBACA,qBAEA,EAYA,UAGA,qDACA,EAGA,oBACA,+FACA,aACA,yDACA,kBAGA,mCAEA,0CACA,SACA,wCAGA,oBACA,0DAEA,GAIA,gBACA,mBACA,GCvlBkR,I,sBCQ9Q,GAAY,OACd,EACAtE,EACAS,GACA,EACA,KACA,KACA,MAIF,EAAe,EAAiB,QAWhC,IAAkB,EAAW,CAACgE,KAAI,UAAM,SAAK,YAAQ,aAAS,SAAK,6BAAyB,M","sources":["webpack://front/./src/components/dialog/fill/del-assigment.vue?8413","webpack://front/src/components/dialog/fill/del-assigment.vue","webpack://front/./src/components/dialog/fill/del-assigment.vue?f7e6","webpack://front/./src/components/dialog/fill/del-assigment.vue","webpack://front/./src/components/dialog/fill/postpone.vue?ff6e","webpack://front/src/components/dialog/fill/postpone.vue","webpack://front/./src/components/dialog/fill/postpone.vue?b517","webpack://front/./src/components/dialog/fill/postpone.vue","webpack://front/./src/components/visual/GantWork.vue?dbb6","webpack://front/src/components/visual/GantWork.vue","webpack://front/./src/components/visual/GantWork.vue?3f3a","webpack://front/./src/components/visual/GantWork.vue","webpack://front/./src/views/Work.vue?3d36","webpack://front/./src/components/assignments/assignment.vue?2e32","webpack://front/src/components/assignments/assignment.vue","webpack://front/./src/components/assignments/assignment.vue?7a10","webpack://front/./src/components/assignments/assignment.vue","webpack://front/src/views/Work.vue","webpack://front/./src/views/Work.vue?975d","webpack://front/./src/views/Work.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-row',[_c('v-col',{staticClass:\"py-0\"},[_vm._v(\" Внимание! Это действие приведет к тому, что все данные поручения (в том числе файлы и чаты, будут удалены) \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n\r\n      <v-row>\r\n        <v-col class=\"py-0\">\r\n          Внимание! Это действие приведет к тому, что все данные поручения (в том числе файлы и чаты, будут удалены)\r\n       \r\n        </v-col>\r\n      </v-row>\r\n     \r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name:\"delAssigment\"\r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./del-assigment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./del-assigment.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./del-assigment.vue?vue&type=template&id=b034cb5e&\"\nimport script from \"./del-assigment.vue?vue&type=script&lang=js&\"\nexport * from \"./del-assigment.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VCol,VRow})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\"div\")}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\r\n  \r\n   \r\n \r\n    \r\n</template>\r\n\r\n<script>\r\n   \r\n\r\nexport default {\r\n\r\n    name:\"postpone\",\r\n\r\n    props: {\r\n        comment: {\r\n            type: String,\r\n            default: \"\"\r\n        },\r\n\r\n    },\r\n\r\n    computed:{\r\n\r\n        comment1:{\r\n        get(){\r\n            return this.comment\r\n        },\r\n        set(val){\r\n            this.$emit(\"comm\", val )\r\n        }\r\n        }}\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./postpone.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./postpone.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./postpone.vue?vue&type=template&id=7ac0948d&\"\nimport script from \"./postpone.vue?vue&type=script&lang=js&\"\nexport * from \"./postpone.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"gant\"}},[_c('div',{},[_c('DxGantt',{ref:_vm.ganttRef,attrs:{\"show-row-lines\":false,\"start-date-range\":_vm.startDateRange,\"end-date-range\":_vm.endDateRange,\"first-day-of-week\":1,\"task-list-width\":0,\"height\":350,\"scale-type\":_vm.scale,\"task-content-template\":'taskContentTemplate',\"task-tooltip-content-template\":'TooltipContentTemplate',\"on-custom-command\":_vm.onCustomCommandClick,\"on-context-menu-preparing\":_vm.onContextMenuPreparing},on:{\"task-dbl-click\":_vm.onTaskDblClick},scopedSlots:_vm._u([{key:\"TooltipContentTemplate\",fn:function(ref){\nvar taskk = ref.data;\nreturn [(_vm.statuser(taskk.id)!=false)?_c('div',{staticClass:\"custom-task-edit-tooltip pa-2\"},[_c('div',{staticClass:\"custom-tooltip-title\"},[_vm._v(\"\\\"\"+_vm._s(taskk.title)+\"\\\"\")]),_c('div',[_vm._v(\" Дата начала: \"+_vm._s(taskk.start.toLocaleDateString())+\" \")]),_c('div',[_vm._v(\"Дата окончания: \"+_vm._s(taskk.end.toLocaleDateString()))]),_c('div',[_vm._v(\"Статус: \"+_vm._s(_vm.statuser(taskk.id)))])]):_vm._e()]}},{key:\"taskContentTemplate\",fn:function(ref){\nvar item = ref.data;\nreturn [_c('div',{staticClass:\"custom-task\",class:_vm.getTaskColor(item.taskData.id),style:({width: item.taskSize.width + 'px'})},[_c('div',{staticClass:\"custom-task-wrapper\"},[_c('div',{staticClass:\"custom-task-row\"},[_vm._v(\" \"+_vm._s(item.taskData.title)+\" -- \"+_vm._s((item && 'taskResources' in item && item.taskResources.length)? item.taskResources[0].text:''))])])])]}}])},[_c('DxContextMenu',{attrs:{\"items\":_vm.contextMenuItems}}),_c('DxScaleTypeRange',{attrs:{\"min\":\"days\",\"max\":\"years\"}}),_c('DxToolbar',[_c('DxItem',{scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('v-btn',{staticClass:\"mx-auto px-auto pl-1\",attrs:{\"icon\":\"\",\"x-small\":\"\",\"color\":\"btns\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('changegantview')}}},[_c('v-icon',{attrs:{\"color\":\"primary\"}},[_vm._v(\"mdi-close\")])],1)]},proxy:true}])}),_c('DxItem',{attrs:{\"name\":\"undo\"}}),_c('DxItem',{attrs:{\"name\":\"redo\"}}),_c('DxItem',{attrs:{\"name\":\"separator\"}}),_c('DxItem',{attrs:{\"name\":\"collapseAll\"}}),_c('DxItem',{attrs:{\"name\":\"expandAll\"}}),_c('DxItem',{attrs:{\"name\":\"separator\"}}),_c('DxItem',{attrs:{\"name\":\"zoomIn\"}}),_c('DxItem',{attrs:{\"name\":\"zoomOut\"}}),_c('DxItem',{attrs:{\"name\":\"fullScreen\"}}),_c('DxItem',{attrs:{\"name\":\"separator\"}}),_c('DxItem',{scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('v-btn',{staticClass:\"inyand--text\",attrs:{\"x-small\":\"\",\"color\":\"btns\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.createAssignment.apply(null, arguments)}}},[_vm._v(\" Создать поручение\")])]},proxy:true}])})],1),_c('DxTasks',{attrs:{\"data-source\":_vm.tasks}}),_c('DxResources',{attrs:{\"data-source\":_vm.resources}}),_c('DxResourceAssignments',{attrs:{\"data-source\":_vm.resourceAssignments}}),_c('DxEditing',{attrs:{\"enabled\":false}}),_vm._v(\" :allow-resource-adding = false :allow-resource-deleting = false \"),_c('DxColumn',{attrs:{\"data-field\":\"title\",\"caption\":\"\",\"width\":1}})],1)],1),_c('v-dialog',{attrs:{\"overlay-opacity\":\".1\",\"max-width\":\"700px\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('DialogNewAssigment',{staticClass:\"dialog_gantWork_create_assignment\",attrs:{\"text\":_vm.actionmethod.text,\"ma\":\"heightCard\"},scopedSlots:_vm._u([{key:\"textarea\",fn:function(){return [_c('add-assigment',{attrs:{\"actionmethod\":_vm.actionmethod,\"resources\":_vm.resources,\"dialoginfo\":_vm.dialoginfo},on:{\"changeddialog\":_vm.changeddialog}})]},proxy:true},{key:\"btn1\",fn:function(){return [_c('BtnsOut',{attrs:{\"title\":\"Отмена\"},on:{\"click\":function($event){_vm.dialog=false}}})]},proxy:true},{key:\"btn2\",fn:function(){return [_c('BtnsOut',{attrs:{\"title\":\"Сохранить\"},on:{\"click\":_vm.saveit}})]},proxy:true}])})],1),_c('v-dialog',{attrs:{\"overlay-opacity\":\".1\",\"max-width\":\"490px\"},model:{value:(_vm.deldialog),callback:function ($$v) {_vm.deldialog=$$v},expression:\"deldialog\"}},[_c('DialogNewAssigment',{attrs:{\"text\":\"Удалить поручение\"},scopedSlots:_vm._u([{key:\"textarea\",fn:function(){return [_c('delAssigment')]},proxy:true},{key:\"btn1\",fn:function(){return [_c('BtnsOut',{attrs:{\"title\":\"Отмена\",\"outlined\":true},on:{\"click\":_vm.back}})]},proxy:true},{key:\"btn2\",fn:function(){return [_c('BtnsOut',{attrs:{\"outlined\":true,\"text\":true,\"title\":\"Удалить\"},on:{\"click\":_vm.saveit}})]},proxy:true}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"gant\">\r\n    <!--   <link rel=\"stylesheet\" type=\"text/css\" href=\"https://cdn3.devexpress.com/jslib/22.2.3/css/dx.dark.compact.css\" /> -->\r\n    <!-- <link rel=\"stylesheet\" type=\"text/css\" href=\"https://cdn3.devexpress.com/jslib/22.2.3/css/dx-gantt.css\" /> -->\r\n\r\n    <div class=\"\" >\r\n \r\n      <DxGantt\r\n       :show-row-lines=\"false\"\r\n        :start-date-range=\"startDateRange\"\r\n        :end-date-range=\"endDateRange\"\r\n        :first-day-of-week=\"1\"\r\n        :task-list-width=\"0\"\r\n        :height=\"350\"\r\n        :scale-type=\"scale\"\r\n        :task-content-template=\"'taskContentTemplate'\"\r\n        :task-tooltip-content-template=\"'TooltipContentTemplate'\"\r\n        :ref=\"ganttRef\"\r\n        :on-custom-command=\"onCustomCommandClick\"\r\n        :on-context-menu-preparing=\"onContextMenuPreparing\"\r\n        @task-dbl-click=\"onTaskDblClick\"\r\n      >\r\n       <!--   -->\r\n       <DxContextMenu\r\n          :items=\"contextMenuItems\"\r\n        />\r\n           <DxScaleTypeRange\r\n            min=\"days\"\r\n            max=\"years\"\r\n        />\r\n     <DxToolbar\r\n    \r\n     >\r\n      <DxItem>\r\n            <template #default>   \r\n        <v-btn   \r\n        icon\r\n        class=\"mx-auto px-auto pl-1\"\r\n         @click.stop=\"$emit('changegantview')\"    \r\n                x-small\r\n               \r\n                color=\"btns\"\r\n                ><v-icon\r\n                color=\"primary\"\r\n                >mdi-close</v-icon>\r\n                </v-btn>\r\n        </template>\r\n            </DxItem>    \r\n        <DxItem name=\"undo\"/>\r\n        <DxItem name=\"redo\"/>\r\n        <DxItem name=\"separator\"/>\r\n        <DxItem name=\"collapseAll\"/>\r\n        <DxItem name=\"expandAll\"/>\r\n        <DxItem name=\"separator\"/>\r\n      \r\n        <DxItem name=\"zoomIn\"/>\r\n        <DxItem name=\"zoomOut\"/>\r\n         <DxItem name=\"fullScreen\"/>\r\n        <DxItem name=\"separator\"/>\r\n        <DxItem>\r\n            <template #default>       \r\n         \r\n        <v-btn   \r\n        \r\n         @click.stop=\"createAssignment\"    \r\n                x-small\r\n                class=\"inyand--text\"\r\n                color=\"btns\"\r\n                >\r\n                Создать поручение</v-btn>\r\n      \r\n                \r\n \r\n                   \r\n            </template>\r\n                    </DxItem>\r\n\r\n      </DxToolbar>\r\n\r\n        <DxTasks :data-source=\"tasks\"/>\r\n     \r\n        <DxResources     \r\n        :data-source=\"resources\"/>\r\n\r\n        <DxResourceAssignments \r\n        \r\n        \r\n        :data-source=\"resourceAssignments\"/>\r\n\r\n        <DxEditing :enabled=\"false\"\r\n           \r\n        />\r\n         :allow-resource-adding = false\r\n        :allow-resource-deleting = false    \r\n\r\n       <DxColumn\r\n         \r\n          data-field=\"title\"\r\n          caption=\"\"\r\n           :width=\"1\"\r\n        />\r\n\r\n\r\n       <template #TooltipContentTemplate=\"{ data: taskk }\">\r\n            <div class=\"custom-task-edit-tooltip pa-2\" v-if=\"statuser(taskk.id)!=false\">\r\n                <div class=\"custom-tooltip-title\">\"{{ taskk.title }}\"</div>\r\n            <div>\r\n                Дата начала: {{taskk.start.toLocaleDateString()}}\r\n            </div>\r\n            <div>Дата окончания: {{taskk.end.toLocaleDateString()}}</div>\r\n            <div>Статус: {{statuser(taskk.id)}}</div>\r\n            </div>\r\n        </template>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        \r\n        <template #taskContentTemplate=\"{ data: item }\">\r\n           \r\n          <div\r\n            class=\"custom-task\"\r\n            :class=\"getTaskColor(item.taskData.id)\"\r\n            :style=\"{width: item.taskSize.width + 'px'}\"\r\n          >\r\n\r\n            <div class=\"custom-task-wrapper\">\r\n\r\n            \r\n              <div class=\"custom-task-row\">   {{ item.taskData.title }} -- \r\n                 {{(item && 'taskResources' in item && item.taskResources.length)? item.taskResources[0].text:'' }}</div>\r\n            </div>\r\n   \r\n          </div>\r\n        </template>\r\n      </DxGantt>\r\n    </div>\r\n\r\n\r\n    <v-dialog\r\n      overlay-opacity= \".1\"\r\n      v-model=\"dialog\"\r\n      max-width=\"700px\"\r\n    >\r\n      <DialogNewAssigment\r\n        :text=\"actionmethod.text\"\r\n        ma=\"heightCard\"\r\n        class=\"dialog_gantWork_create_assignment\"\r\n      >\r\n        <template #textarea>\r\n          <add-assigment\r\n            :actionmethod=\"actionmethod\"\r\n            :resources=\"resources\"\r\n            :dialoginfo=\"dialoginfo\" \r\n            @changeddialog=\"changeddialog\"    \r\n          />\r\n        </template>\r\n        <template #btn1>\r\n          <BtnsOut\r\n            title=\"Отмена\"\r\n            @click=\"dialog=false\"\r\n          />\r\n        </template>\r\n        <template #btn2>\r\n          <BtnsOut\r\n            title=\"Сохранить\"\r\n            @click=\"saveit\"\r\n          />\r\n        </template>\r\n      </DialogNewAssigment>\r\n  </v-dialog>\r\n     \r\n    <v-dialog\r\n      overlay-opacity= \".1\"\r\n      v-model=\"deldialog\"\r\n      max-width=\"490px\"\r\n    >\r\n      <DialogNewAssigment\r\n        text=\"Удалить поручение\"\r\n      >\r\n        <template #textarea>\r\n          <delAssigment/>\r\n        </template>\r\n        <template #btn1>\r\n          <BtnsOut\r\n            title=\"Отмена\"\r\n            :outlined=\"true\"\r\n            @click=\"back\"\r\n          />\r\n        </template>\r\n        <template #btn2>\r\n          <BtnsOut\r\n            :outlined=\"true\"\r\n            :text=\"true\"\r\n            title=\"Удалить\"\r\n            @click=\"saveit\"\r\n          />\r\n        </template>\r\n      </DialogNewAssigment>\r\n    </v-dialog>\r\n\r\n\r\n\r\n  </div> \r\n</template>\r\n\r\n<script>\r\nconst ganttRef = 'gantt'\r\n\r\nimport addAssigment from '@/components/dialog/fill/add-assigment.vue'\r\n\r\nimport  gantff  from '@/utils/gant.js'\r\nimport { createNamespacedHelpers } from \"vuex\";\r\nconst projectstate = createNamespacedHelpers(\"projectstate\");\r\nconst taskstate = createNamespacedHelpers(\"taskstate\");\r\nconst workstate = createNamespacedHelpers(\"workstate\");\r\nconst assignmentstate = createNamespacedHelpers(\"assignmentstate\");\r\nimport deMessages from \"devextreme/localization/messages/ru.json\";\r\nimport { locale, loadMessages } from \"devextreme/localization\"\r\nimport {\r\nDxToolbar,\r\n  DxScaleTypeRange, \r\n  DxItem,\r\n  DxGantt,\r\n  DxTasks,\r\n  DxDependencies,\r\n  DxResources,\r\n  DxResourceAssignments,\r\n  DxColumn,\r\n  DxEditing,\r\n  DxContextMenu,\r\n} from 'devextreme-vue/gantt';\r\n\r\n;\r\nimport DialogNewAssigment from '@/components/dialog/UI/dialog-new-assignment.vue';\r\nimport delAssigment from '@/components/dialog/fill/del-assigment.vue';\r\n\r\nexport default {\r\n  components: {\r\n    DxScaleTypeRange, \r\n    DxContextMenu,\r\n    DxGantt,\r\n    DxTasks,\r\n    DxDependencies,\r\n    DxResources,\r\n    DxResourceAssignments,\r\n    DxColumn,\r\n    DxEditing,\r\n    DxToolbar,\r\n    DxItem,\r\n    DialogNewAssigment,\r\n    addAssigment,\r\n    delAssigment\r\n  },\r\n mixins:[gantff],\r\n  data() {\r\n    return {\r\n      dialoginfo:{},\r\n      scale:\"year\",\r\n      selectedkey:\"\",\r\n      ganttRef,\r\n      actionmethod:{method:\"addWork\", text:\"Создание работы\",dateendstore:\"\",datestartstore:\"\",min:\"\",max:\"\", level:\"work\"},\r\n      dialog:false,\r\n      deldialog:false,\r\n      tasks:[],\r\n      asgmnts:[],\r\n      // task:[ { name: 'edittask', text: 'Редактировать задачу' },{ name: 'addwork', text: 'Создать Работу' }, ],\r\n      work:[ { name: 'editwork', text: 'Редактировать работу' }, { name: 'createAssignment', text: 'Создать поручение' }, {name: 'delwork', text: 'Удалить'} ],\r\n      ass:[{ name: 'editasygmnt', text: 'Редактировать поручение' },  {name: 'delasygmnt', text: 'Удалить'}],\r\n      contextMenuItems: [],\r\n      resourceAssignments:[],\r\n      disableContextMenu: false,\r\n    };\r\n  },\r\n  created(){\r\n        loadMessages(deMessages);\r\n        locale(navigator.language);\r\n         \r\n         \r\n  },\r\n\r\n  computed:{  \r\n      \r\n    responsible: {\r\n      get(){\r\n        return this.gettasks().responsible\r\n      },\r\n      set(value){\r\n         this.settasksresponsible(value)\r\n      }\r\n    },\r\n\r\n    gantt: function() {\r\n      this.scale  = this.date_watch(this.startDateRange, this.endDateRange)\r\n      return this.$refs[ganttRef].instance;},\r\n    resources:{\r\n        get(){\r\n           \r\n            return this.getprojectuniqueusers().filter(e=>e.role.id!=6)          \r\n        }\r\n    },\r\n    \r\n  //  rpchange(){return this.getProjectrp()},\r\n   tasksOR(){     \r\n    return  this.getworks().work_assignment},\r\n    startDateRange(){\r\n        return this.tasks[0]? this.tasks[0].start:new Date()},\r\n     \r\n    endDateRange(){\r\n        return this.tasks[0]? this.tasks[0].end:new Date()}\r\n \r\n        ,\r\n    \r\n\r\n  },\r\n\r\n  watch:{\r\n  \r\n    // },\r\n    tasksOR(val){  \r\n      \r\n         this.tasks=[]\r\n        this.tasks[0]=this.topline(this.getworkidname(),this.getWorkdatestart(),this.getWorkdateend())   \r\n        \r\n        \r\n        this.resourceAssignments=[{id:-1, taskId:`parent-${this.getworkidname().id}`, resourceId: this.getworkidname().resp }]\r\n        \r\n        if (val.length){        \r\n          \r\n            for (let i=0;i<val.length;i++){\r\n                \r\n                this.tasks.push({id:`ass-${val[i].id}`, title:val[i].name, parentId:this.tasks[0].id, start:new Date(val[i].datestart),end:new Date(val[i].dateend), status:val[i].status})\r\n               \r\n                this.resourceAssignments.push({id:i, taskId:`ass-${val[i].id}`, resourceId: val[i].responsible.id})\r\n               \r\n                \r\n           }               \r\n        }      \r\n    this.gantt.refresh(); \r\n    }\r\n  },\r\n  \r\n  methods: {\r\n\r\n     ...projectstate.mapGetters([\"getprojectuniqueusers\",'getprojectTasks','getprojectWorks','getProjectdatestart','getProjectdateend','getprojectIdName','getProjectrp','getProject']),\r\n     ...taskstate.mapGetters([\"getTaskdatestart\",\"getTaskdateend\",\"gettasks\"]),\r\n     ...taskstate.mapMutations([\"setTaskdateend\",\"setTaskdatestart\",'settasks','settasksresponsible','settasksname']),\r\n     ...workstate.mapGetters([\"getWorkdatestart\",\"getWorkdateend\",\"getworks\",\"getworkidname\"]),\r\n     ...workstate.mapMutations([\"setWorkdateend\",\"setWorkdatestart\",'setWorks','setworksresponsible','setworksname']),\r\n    ...assignmentstate.mapGetters(['getAssignments','getAssignmentdatestart','getAssignmentdateend']),\r\n    ...assignmentstate.mapMutations(['setAssignmentdescript','setAssignments','setAssignmentname','setAssignmentdateend','setAssignmentdatestart','setAssignmentresponsible']),\r\n  \r\n   \r\n  \r\n    statuser(id){\r\n      try{\r\n      let el = this.tasks.find(el=>el.id==id)\r\n     \r\n      return el.status.name}\r\n      catch{\r\n        return false\r\n      }\r\n    },\r\n\r\n    back(){\r\n            this.deldialog=false\r\n          \r\n\r\n    },\r\n      \r\n  \r\n\r\n\r\n\r\n  \r\n\r\n    onTaskDblClick(e){\r\n         e.cancel = true;\r\n        \r\n        if(!(['parent','ass'].includes(e.data.id.split(\"-\")[0])) ){ this.$router.push(`/${e.data.id.split(\"-\").join(\"/\")}`)}\r\n        else if(e.data.id.split(\"-\")[0]==\"ass\"){\r\n          let id = e.data.id.split(\"-\")[1]\r\n          this.$emit('changetab', id)\r\n        }\r\n    },\r\n\r\n\r\n    \r\n    getTaskColor(taskId) {\r\n      \r\n      \r\n      let el = this.tasks.find(e=>e.id==taskId)      \r\n      if (el.id.startsWith(\"parent\"))el=this.getworks()\r\n      return `custom-task-color-${el.status.id}`;\r\n    },\r\n\r\n\r\n\r\n   delasygmnt(){\r\n    let w=[] \r\n \r\n    this.setAssignments(this.getworks().work_assignment.find(e=> e.id==Number(this.selectedkey.id.split(\"-\")[1])))\r\n    this.dialoginfo= this.getAssignments()\r\n    this.actionmethod={method:\"delasygmnt\", \r\n                             level:'Assignments',\r\n                            text:\"Удаление поручения\",\r\n                            datestartstore:'Assignmentdatestart',\r\n                            dateendstore:'Assignmentdateend'}                            \r\n                            \r\n      this.deldialog=true\r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  },\r\n  createAssignment(){     \r\n     \r\n      this.setAssignments({name:\"\",longname:\"\",difficult:0,parent:this.getworks().id, responsible:{},datestart:\"\",dateend:\"\"})\r\n      this.dialoginfo= this.getAssignments()\r\n      this.actionmethod={method:\"createasygmnt\", \r\n                          level:\"Assignments\", \r\n                          responsible_text:\"Исполнитель\",\r\n                          text:\"Создание поручения\",\r\n                        min:this.getWorkdatestart(), \r\n                        max:this.getWorkdateend(),\r\n                        datestartstore:'Assignmentdatestart',\r\n                        dateendstore:'Assignmentdateend'}\r\n      this.dialog=true\r\n\r\n\r\n  },\r\n\r\n  editasygmnt(){\r\n\r\n    let el = this.getworks().work_assignment.find(e=>e.id==this.selectedkey.id.split(\"-\")[1]  && this.selectedkey.id.split(\"-\")[0]=='ass')\r\n   console.log(el);\r\n    this.setAssignments(el)\r\n     this.dialoginfo = this.getAssignments()\r\n      this.actionmethod={method:\"editasygmnt\", \r\n                          level:\"Assignments\", \r\n                          text:\"Редактирование поручения\",\r\n                          responsible_text:\"Исполнитель\",\r\n                        min:this.getWorkdatestart(), \r\n                        max:this.getWorkdateend(),\r\n                        datestartstore:'Assignmentdatestart',\r\n                        dateendstore:'Assignmentdateend'}\r\n      \r\n      this.dialog=true\r\n\r\n\r\n  },\r\n\r\n   \r\n  },\r\n};\r\n</script>\r\n<style>\r\n @import './gant.css';\r\n @import './lightgant.css';\r\n\r\n\r\n.custom-task-color-1 {\r\n  background-color: #8c9a92;\r\n}\r\n\r\n.custom-task-color-2 {\r\n  background-color: #006fde;\r\n}\r\n\r\n.custom-task-color-3 {\r\n  background-color: #d7a203;\r\n}\r\n\r\n.custom-task-color-4 {\r\n  background-color: #ce5b47;\r\n}\r\n\r\n.custom-task-color-5 {\r\n  background-color: #35b86b;\r\n}\r\n\r\n.custom-task-color-6 {\r\n  background-color: #9f47ce;\r\n}\r\n\r\n.custom-task {\r\n  max-height: 40px;\r\n  height: 100%;\r\n  display: block;\r\n  overflow: hidden;\r\n}\r\n\r\n.custom-task-wrapper {\r\n  padding: 1px;\r\n  color: #fff;\r\n}\r\n\r\n.custom-task-wrapper > * {\r\n  display: block;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.custom-task-img-wrapper {\r\n  float: left;\r\n  width: 32px;\r\n  height: 32px;\r\n  border-radius: 50%;\r\n  margin: 8px;\r\n  background-color: #fff;\r\n  overflow: hidden;\r\n}\r\n\r\n.custom-task-img {\r\n  width: 32px;\r\n}\r\n\r\n/* .custom-task-title {\r\n  font-weight: 300;\r\n  font-size: 13px;\r\n} */\r\n\r\n.custom-task-row {\r\n  font-size: .8rem;\r\n}\r\n\r\n.custom-task-progress {\r\n  position: absolute;\r\n  left: 0;\r\n  bottom: 0;\r\n  width: 0%;\r\n  height: 4px;\r\n  background: rgba(0, 0, 0, 0.3);\r\n}\r\n \r\n.dx-gantt .dx-row {\r\n  height: .5rem;\r\n} \r\n.dx-splitter-wrapper{\r\n    z-index: 8;\r\n}\r\n.dx-gantt-taskWrapper{\r\n     z-index: 7;\r\n}\r\n\r\n.custom-task-edit-tooltip{\r\n  background: rgba(17, 17, 17, 0.707);\r\n  color: white;\r\n}\r\n\r\n.v-input .v-label {\r\n    color: rgb(116 111 111 / 60%);\r\n}\r\n.h_dna {\r\n  height: 220px;\r\n}\r\n\r\n.heightCard {\r\n  \r\n    height: 320px;\r\n    margin: 12px;\r\n\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./GantWork.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./GantWork.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GantWork.vue?vue&type=template&id=2e92e576&\"\nimport script from \"./GantWork.vue?vue&type=script&lang=js&\"\nexport * from \"./GantWork.vue?vue&type=script&lang=js&\"\nimport style0 from \"./GantWork.vue?vue&type=style&index=0&id=2e92e576&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VBtn,VDialog,VIcon})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('work-task-ass-project',{attrs:{\"cards\":_vm.$options.name,\"chatview\":_vm.chatview,\"show\":_vm.show,\"tabProj\":'1',\"title\":_vm.work.name,\"breadcrumbs\":_vm.breadcrumbs},on:{\"afterLeave\":_vm.afterLeave,\"afterEnter\":_vm.afterEnter,\"createnewass\":_vm.createnewass,\"listchangetab\":_vm.listchangetab,\"allCard\":_vm.allCard},scopedSlots:_vm._u([{key:\"spisok\",fn:function(){return [_c('left-list',{attrs:{\"level\":3},on:{\"listchangetab\":_vm.listchangetab,\"confirmation\":_vm.confirmation}}),_c('v-row',{staticClass:\"flex-grow-0 \"},[_c('v-col',{staticClass:\"pa-0\"},[_c('v-divider')],1)],1),_c('v-row',{staticClass:\"flex-grow-0 justify-end\"},[_c('v-col',{staticClass:\"flex-grow-0\"},[_c('MyIco',{attrs:{\"icons\":\"mdi-chart-gantt\",\"size\":\"large\"},on:{\"click\":_vm.gantviewer}})],1),_c('v-col',{staticClass:\"flex-grow-0\"})],1),_c('v-slide-x-reverse-transition',[_c('v-card',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.gantview),expression:\"gantview\"}],staticClass:\"gantPosition\"},[_c('gant-work',{ref:\"gantwork\",staticClass:\"pa-1\",attrs:{\"startlevel\":'work'},on:{\"saver\":_vm.gantsaver,\"changetab\":_vm.changetab,\"changegantview\":_vm.changegantview}})],1)],1)]},proxy:true},{key:\"informations\",fn:function(){return [_c('informationorders',{attrs:{\"chat\":_vm.activedCh,\"chatview\":_vm.chatview,\"indx\":_vm.tab,\"level\":_vm.tab==0?3:4,\"breadcrumbs\":_vm.breadcrumbs},on:{\"changetab\":_vm.changetab,\"chatviewer\":_vm.chatviewer,\"createtabchat\":_vm.createtabchat,\"changestatus\":_vm.changestatus,\"listchangetab\":_vm.listchangetab}})]},proxy:true},{key:\"chat\",fn:function(){return [_c('mMessegeListRight',{directives:[{name:\"show\",rawName:\"v-show\",value:(Object.keys(_vm.activedCh).length>0),expression:\"Object.keys(activedCh).length>0\"}],ref:\"mychat\",staticClass:\"box2\",attrs:{\"chatplace\":'rightchat',\"header\":false,\"chat\":_vm.activedCh,\"waiter\":_vm.waiter},on:{\"waiting\":function($event){_vm.waiter=true}}})]},proxy:true},{key:\"filess\",fn:function(){return [_c('filelist',{attrs:{\"files\":_vm.work.work_files,\"level\":_vm.level,\"status\":_vm.work.status.id,\"currentid\":[_vm.work ].concat( _vm.work.work_assignment)[_vm.tab].id},on:{\"uploadfile\":_vm.uploadfile,\"deletefile\":_vm.deletefile,\"VisSwitcher\":_vm.VisSwitcher}})]},proxy:true},{key:\"graphic\",fn:function(){return [_c('work-pie-chart',{attrs:{\"title\":'Статусы поручений в работе',\"data\":_vm.ass_statuses_calc}})]},proxy:true}])},[_c('v-dialog',{attrs:{\"overlay-opacity\":\".1\",\"max-width\":\"490px\"},model:{value:(_vm.delete_dialog),callback:function ($$v) {_vm.delete_dialog=$$v},expression:\"delete_dialog\"}},[_c('DialogNewAssigment',{attrs:{\"text\":\"Удалить поручение\"},scopedSlots:_vm._u([{key:\"textarea\",fn:function(){return [_c('delAssigment')]},proxy:true},{key:\"btn1\",fn:function(){return [_c('v-btn',{attrs:{\"color\":\"green darken-1\",\"text\":\"\"},on:{\"click\":function($event){_vm.delete_dialog = false}}},[_vm._v(\" Отменить \")])]},proxy:true},{key:\"btn2\",fn:function(){return [_c('v-btn',{attrs:{\"color\":\"green darken-1\",\"text\":\"\"},on:{\"click\":_vm.assignment_del_run}},[_vm._v(\" Удалить \")])]},proxy:true}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Cards',{staticClass:\"ma-1 nameAssidnment unip height_informationorders overflow-auto\",attrs:{\"color\":\"inyand\",\"elevation\":0},scopedSlots:_vm._u([{key:\"cards\",fn:function(){return [_c('v-row',{staticClass:\"flex-grow-0\"},[_c('v-col',[_c('strong',[_vm._v(\"Поручения\")])])],1),_c('v-divider'),_vm._l((_vm.getworks.work_assignment),function(elm,index){return _c('v-row',{key:index,staticClass:\"flex-grow-0\"},[_c('v-col',{class:index==0?'mt-2':''},[_c('span',{staticClass:\"align-self-center\"},[_vm._v(_vm._s(elm.name)+\" - \"),_c('strong',[_vm._v(_vm._s(elm.status.name))]),_vm._v(\" - Срок до: \"+_vm._s(_vm.momentedDay(elm.dateend))+\" (\"+_vm._s(elm.responsible.sn)+\")\")])]),_c('v-col',{attrs:{\"xl\":\"1\"}},[_c('v-menu',{attrs:{\"min-width\":elm.comment.length>0?'900px':'600px',\"close-on-content-click\":false},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({directives:[{name:\"show\",rawName:\"v-show\",value:(elm.status.id<5 && _vm.getworks.status.id<3),expression:\"elm.status.id<5 && getworks.status.id<3\"}],staticClass:\"ml-auto\",attrs:{\"x-small\":\"\",\"icon\":\"\",\"fab\":\"\",\"color\":elm.status.id!=3?'orange accent-3':'orange darken-2'}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(_vm._s(elm.status.id!=3?'mdi-progress-clock':'mdi-play-speed'))])],1)]}}],null,true)},[_c('v-card',[_c('v-card-title',[_vm._v(\" \"+_vm._s(elm.status.id!=3? 'Отложить':\"Открыть\")+\" поручение \")]),_c('v-card-text',[_c('v-textarea',{staticClass:\"mx-2\",attrs:{\"placeholder\":\"Комментарий\"}})],1),_c('v-card-actions',[_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){elm.status.id!=3?_vm.$emit('confirmation', {elm: elm, res: 3, text: 'Отложено'}):_vm.$emit('confirmation', {elm: elm, res: 2, text: 'Открыто'})}}},[_vm._v(\" \"+_vm._s(elm.status.id!=3? 'Отложить':\"Открыть\")+\" \")])],1)],1)],1)],1)],1)})]},proxy:true}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n      <Cards\r\n        color=\"inyand\"\r\n        :elevation= 0\r\n        class=\"ma-1 nameAssidnment unip height_informationorders overflow-auto\"\r\n        \r\n    >\r\n        <template #cards>\r\n            <v-row class=\"flex-grow-0\">\r\n                <v-col>\r\n                    <strong>Поручения</strong>\r\n                </v-col>\r\n            </v-row>\r\n            <v-divider></v-divider>\r\n            <v-row\r\n                v-for=\"(elm,index) in getworks.work_assignment\"\r\n                :key=\"index\"\r\n                class=\"flex-grow-0\"\r\n            >\r\n                <v-col\r\n                    :class=\"index==0?'mt-2':''\"\r\n                >\r\n                    <span class=\"align-self-center\">{{elm.name}} - <strong>{{elm.status.name}}</strong> - Срок до: {{momentedDay(elm.dateend)}} ({{elm.responsible.sn}})</span>\r\n                \r\n                </v-col>\r\n                <v-col\r\n                    xl=1\r\n                > \r\n                    <v-menu\r\n                        :min-width=\"elm.comment.length>0?'900px':'600px'\"\r\n                        :close-on-content-click=\"false\"      \r\n                    >\r\n                        <template v-slot:activator=\"{ on, attrs }\">\r\n                            <v-btn\r\n                                v-show=\"elm.status.id<5 && getworks.status.id<3\"\r\n                                class=\"ml-auto\"\r\n                                x-small\r\n                                icon\r\n                                fab\r\n                                :color=\"elm.status.id!=3?'orange accent-3':'orange darken-2'\"\r\n                                v-bind=\"attrs\"\r\n                                v-on=\"on\"\r\n                            >\r\n                            <v-icon>{{elm.status.id!=3?'mdi-progress-clock':'mdi-play-speed'}}</v-icon>\r\n                            \r\n                            </v-btn>\r\n                    </template>\r\n        <v-card>\r\n            <v-card-title>\r\n             {{elm.status.id!=3? 'Отложить':\"Открыть\"}} поручение\r\n        </v-card-title>\r\n        <v-card-text>\r\n           <v-textarea\r\n          class=\"mx-2\"\r\n          \r\n          placeholder=\"Комментарий\"\r\n          ></v-textarea>\r\n\r\n        </v-card-text>\r\n        <v-card-actions>\r\n           <v-btn\r\n            text\r\n            @click=\"elm.status.id!=3?$emit('confirmation', {elm: elm, res: 3, text: 'Отложено'}):$emit('confirmation', {elm: elm, res: 2, text: 'Открыто'})\"\r\n          >\r\n           {{elm.status.id!=3? 'Отложить':\"Открыть\"}}\r\n          </v-btn>\r\n        </v-card-actions>\r\n        </v-card>\r\n       </v-menu>\r\n        <!-- <v-menu\r\n      :min-width=\"elm.comment.length>0?'900px':'600px'\"\r\n      :close-on-content-click=\"false\"\r\n      \r\n      \r\n    >\r\n      <template v-slot:activator=\"{ on, attrs }\">\r\n\r\n        <v-btn v-show=\"[4,5].includes(elm.status.id) && getworks.status.id<3\"\r\n        class=\"ml-auto\"\r\n        x-small\r\n        icon\r\n        fab\r\n          :color=\"elm.status.id==5?'green':'red'\"\r\n         \r\n          v-bind=\"attrs\"\r\n          v-on=\"on\"\r\n        >\r\n        <v-icon\r\n        \r\n        >{{elm.status.id==5?'mdi-progress-check':'mdi-progress-question'}}</v-icon>\r\n          \r\n        </v-btn>\r\n      </template>\r\n\r\n      \r\n         <v-row>\r\n        <v-col class=\"pr-0\" v-if=\"elm.comment.length>0\">\r\n          <v-card\r\n\r\n          >\r\n          <div class=\"flex-grow-1\" v-for=\"(e,indx) in elm.comment\" :key=\"e[0]+'-'+indx\"> <strong>{{e[0]}}</strong>:<br> {{e[1]}}\r\n            <v-divider></v-divider>\r\n            </div>\r\n            \r\n            </v-card>\r\n          </v-col>\r\n         <v-col class=\"pl-0\">\r\n          <v-card>\r\n        <v-list>\r\n          <v-list-item>\r\n            <v-list-item-avatar>\r\n             \r\n            </v-list-item-avatar>\r\n\r\n            <v-list-item-content>\r\n              <v-list-item-title>{{elm.name}}</v-list-item-title>\r\n              <v-list-item-subtitle>Срок до: {{momentedDay(elm.dateend)}}</v-list-item-subtitle>\r\n            </v-list-item-content>\r\n\r\n          \r\n          </v-list-item>\r\n        </v-list>\r\n\r\n        <v-divider></v-divider>\r\n\r\n        <v-list>\r\n          <v-list-item>\r\n           \r\n            <v-list-item-title>Комментарий</v-list-item-title>\r\n          </v-list-item>\r\n          <v-textarea\r\n          class=\"mx-2\"\r\n          v-model=\"comment\"\r\n          ></v-textarea>\r\n         \r\n           \r\n        </v-list>\r\n\r\n        <v-card-actions>\r\n          <v-spacer></v-spacer>\r\n\r\n          <v-btn\r\n            text\r\n            @click=\"confirmation(elm,2,'Отклонено')\"\r\n          >\r\n            Отклонить\r\n          </v-btn>\r\n          <v-btn\r\n            color=\"primary\"\r\n            text\r\n             @click=\"confirmation(elm,5,'Принято')\"\r\n          >\r\n            Принять\r\n          </v-btn>\r\n        </v-card-actions>\r\n         </v-card>\r\n        </v-col>\r\n        </v-row> \r\n     \r\n    </v-menu> -->\r\n                </v-col>\r\n            </v-row>\r\n            \r\n        </template>\r\n      </Cards>\r\n\r\n\r\n      <!-- <v-card v-if=\"indx==0\" style=\"height:100%\">\r\n                              <v-card-title class=\"py-0\"><h5>Поручения</h5></v-card-title>\r\n                                \r\n                                <v-divider></v-divider>\r\n                            <v-card-text>\r\n                               \r\n                                    \r\n                                <div class=\"d-flex\" v-for=\"(elm,index) in getworks.work_assignment\" :key=\"index\">\r\n                                        <span class=\"align-self-center\">{{elm.name}} - <strong>{{elm.status.name}}</strong> - Срок до: {{momentedDay(elm.dateend)}} ({{elm.responsible.sn}})</span>\r\n        \r\n          <v-menu\r\n      :min-width=\"elm.comment.length>0?'900px':'600px'\"\r\n      :close-on-content-click=\"false\"      \r\n      \r\n    >\r\n      <template v-slot:activator=\"{ on, attrs }\">\r\n         <v-btn v-show=\"elm.status.id<5 && getworks.status.id<3\"\r\n        class=\"ml-auto\"\r\n        x-small\r\n        icon\r\n        fab\r\n          :color=\"elm.status.id!=3?'orange accent-3':'orange darken-2'\"\r\n         \r\n          v-bind=\"attrs\"\r\n          v-on=\"on\"\r\n        >\r\n        <v-icon>{{elm.status.id!=3?'mdi-progress-clock':'mdi-play-speed'}}</v-icon>\r\n          \r\n        </v-btn>\r\n  </template>\r\n        <v-card>\r\n            <v-card-title>\r\n             {{elm.status.id!=3? 'Отложить':\"Открыть\"}} поручение\r\n        </v-card-title>\r\n        <v-card-text>\r\n           <v-textarea\r\n          class=\"mx-2\"\r\n          v-model=\"comment\"\r\n          placeholder=\"Комментарий\"\r\n          ></v-textarea>\r\n\r\n        </v-card-text>\r\n        <v-card-actions>\r\n           <v-btn\r\n            text\r\n            @click=\"elm.status.id!=3?confirmation(elm,3,'Отложено'):confirmation(elm,2,'Открыто')\"\r\n          >\r\n           {{elm.status.id!=3? 'Отложить':\"Открыть\"}}\r\n          </v-btn>\r\n        </v-card-actions>\r\n        </v-card>\r\n       </v-menu>\r\n        <v-menu\r\n      :min-width=\"elm.comment.length>0?'900px':'600px'\"\r\n      :close-on-content-click=\"false\"\r\n      \r\n      \r\n    >\r\n      <template v-slot:activator=\"{ on, attrs }\">\r\n\r\n        <v-btn v-show=\"[4,5].includes(elm.status.id) && getworks.status.id<3\"\r\n        class=\"ml-auto\"\r\n        x-small\r\n        icon\r\n        fab\r\n          :color=\"elm.status.id==5?'green':'red'\"\r\n         \r\n          v-bind=\"attrs\"\r\n          v-on=\"on\"\r\n        >\r\n        <v-icon\r\n        \r\n        >{{elm.status.id==5?'mdi-progress-check':'mdi-progress-question'}}</v-icon>\r\n          \r\n        </v-btn>\r\n      </template>\r\n\r\n      \r\n        <v-row>\r\n        <v-col class=\"pr-0\" v-if=\"elm.comment.length>0\">\r\n          <v-card\r\n\r\n          >\r\n          <div class=\"flex-grow-1\" v-for=\"(e,indx) in elm.comment\" :key=\"e[0]+'-'+indx\"> <strong>{{e[0]}}</strong>:<br> {{e[1]}}\r\n            <v-divider></v-divider>\r\n            </div>\r\n            \r\n            </v-card>\r\n          </v-col>\r\n         <v-col class=\"pl-0\">\r\n          <v-card>\r\n        <v-list>\r\n          <v-list-item>\r\n            <v-list-item-avatar>\r\n             \r\n            </v-list-item-avatar>\r\n\r\n            <v-list-item-content>\r\n              <v-list-item-title>{{elm.name}}</v-list-item-title>\r\n              <v-list-item-subtitle>Срок до: {{momentedDay(elm.dateend)}}</v-list-item-subtitle>\r\n            </v-list-item-content>\r\n\r\n          \r\n          </v-list-item>\r\n        </v-list>\r\n\r\n        <v-divider></v-divider>\r\n\r\n        <v-list>\r\n          <v-list-item>\r\n           \r\n            <v-list-item-title>Комментарий</v-list-item-title>\r\n          </v-list-item>\r\n          <v-textarea\r\n          class=\"mx-2\"\r\n          v-model=\"comment\"\r\n          ></v-textarea>\r\n         \r\n           \r\n        </v-list>\r\n\r\n        <v-card-actions>\r\n          <v-spacer></v-spacer>\r\n\r\n          <v-btn\r\n            text\r\n            @click=\"confirmation(elm,2,'Отклонено')\"\r\n          >\r\n            Отклонить\r\n          </v-btn>\r\n          <v-btn\r\n            color=\"primary\"\r\n            text\r\n             @click=\"confirmation(elm,5,'Принято')\"\r\n          >\r\n            Принять\r\n          </v-btn>\r\n        </v-card-actions>\r\n         </v-card>\r\n        </v-col>\r\n        </v-row>\r\n     \r\n    </v-menu>\r\n                                </div>\r\n\r\n\r\n                            </v-card-text>\r\n\r\n                    </v-card>\r\n\r\n\r\n\r\n\r\n                    </v-col>\r\n\r\n            </v-row>\r\n        </v-card> -->\r\n\r\n</template>\r\n\r\n<script>\r\nimport { createNamespacedHelpers } from \"vuex\";\r\nimport momentedDay from '@/utils/universal_functions'\r\n\r\nconst { mapGetters } = createNamespacedHelpers(\"auth\");\r\nconst workstate = createNamespacedHelpers(\"workstate\");\r\n\r\n\r\nexport default {\r\n\r\n    name: 'assignment',\r\n\r\n    mixins:[momentedDay],\r\n\r\n    data: () => ({\r\n        comment:\"\"\r\n    }),\r\n\r\n    computed: {\r\n    ...mapGetters([\"getUser\", ]),\r\n    ...workstate.mapGetters(['getworks']),\r\n    },  \r\n\r\n\r\n    methods:{\r\n        ...workstate.mapMutations([\"setWorks\"]),\r\n    }\r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n.unip {\r\n  height: 50px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./assignment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./assignment.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./assignment.vue?vue&type=template&id=25ced8aa&\"\nimport script from \"./assignment.vue?vue&type=script&lang=js&\"\nexport * from \"./assignment.vue?vue&type=script&lang=js&\"\nimport style0 from \"./assignment.vue?vue&type=style&index=0&id=25ced8aa&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VCol,VDivider,VIcon,VMenu,VRow,VTextarea})\n","<template>\r\n  <work-task-ass-project\r\n   \r\n    :cards=\"$options.name\"\r\n    :chatview=\"chatview\"\r\n    :show=\"show\"\r\n    :tabProj=\"'1'\"\r\n    @afterLeave=\"afterLeave\"\r\n    @afterEnter=\"afterEnter\"\r\n    @createnewass=\"createnewass\"\r\n    :title=\"work.name\"\r\n    @listchangetab=\"listchangetab\"\r\n    :breadcrumbs=\"breadcrumbs\"\r\n    @allCard=\"allCard\"\r\n  >\r\n    <template #spisok>\r\n      <left-list       \r\n        :level=\"3\"       \r\n        @listchangetab=\"listchangetab\"\r\n        @confirmation=\"confirmation\"\r\n      />\r\n       <!-- :cardname=\"$options.name\"\r\n        :status=\"work.status.id\"\r\n        :itemList=\"work.work_assignment\" -->\r\n      <v-row class=\"flex-grow-0 \">\r\n        <v-col class=\"pa-0\">\r\n          <v-divider/>\r\n        </v-col>\r\n      </v-row>\r\n      <v-row class=\"flex-grow-0 justify-end\">\r\n        <v-col class=\"flex-grow-0\">\r\n          <MyIco\r\n            @click=\"gantviewer\"\r\n            icons = 'mdi-chart-gantt'\r\n            size=\"large\"\r\n          />  \r\n        </v-col>\r\n                <v-col class=\"flex-grow-0\">\r\n          <!-- <MyIco\r\n            @click=\"hello\"\r\n            icons = 'mdi-chart-gantt'\r\n          />   -->\r\n        </v-col>\r\n      </v-row>\r\n      <v-slide-x-reverse-transition>\r\n        <v-card\r\n          v-show=\"gantview\"\r\n          class=\"gantPosition\"\r\n        >        \r\n          <gant-work\r\n            class=\"pa-1\"\r\n            :startlevel=\"'work'\"\r\n            ref=\"gantwork\"\r\n            @saver=\"gantsaver\" \r\n            @changetab=\"changetab\"  \r\n            @changegantview=\"changegantview\"\r\n          />\r\n        </v-card>\r\n      </v-slide-x-reverse-transition>\r\n    </template>\r\n\r\n    <template #informations>\r\n       <informationorders\r\n          :chat=\"activedCh\"\r\n          :chatview=\"chatview\"         \r\n          :indx=\"tab\"\r\n          :level=\"tab==0?3:4\"\r\n       \r\n          @changetab=\"changetab\"\r\n          @chatviewer=\"chatviewer\" \r\n          @createtabchat=\"createtabchat\"\r\n          @changestatus=\"changestatus\"\r\n          @listchangetab=\"listchangetab\"\r\n          :breadcrumbs=\"breadcrumbs\"\r\n        />     \r\n    </template>\r\n             <!-- :levelup=\"task\"\r\n          :level=\"fullinfo[tab]\" -->\r\n<!-- :chat=\"activedCh\"\r\n          :chatview=\"chatview\"\r\n          :val=\"fullinfo[tab]\"\r\n          :task=\"task\"\r\n          \r\n          :workaccepted=\"workaccepted\"\r\n          @changestatus=\"changestatus\"\r\n          @createtabchat=\"createtabchat\"\r\n          @chatviewer=\"chatviewer\" -->\r\n    <template #chat>\r\n\r\n      <mMessegeListRight\r\n        class=\"box2\" v-show=\"Object.keys(activedCh).length>0\"\r\n        ref=\"mychat\"\r\n        :chatplace=\"'rightchat'\"\r\n        :header= false\r\n        :chat=\"activedCh\"\r\n        :waiter=\"waiter\"\r\n        @waiting=\"waiter=true\"\r\n      />  \r\n    </template>\r\n\r\n       <template #filess>\r\n        <filelist\r\n          :files=\"work.work_files\"\r\n          :level=\"level\"\r\n          :status=\"work.status.id\"\r\n          :currentid=\"[work,...work.work_assignment][tab].id\"\r\n          @uploadfile=\"uploadfile\"\r\n          @deletefile=\"deletefile\"\r\n          @VisSwitcher=\"VisSwitcher\"\r\n        />\r\n        </template>\r\n\r\n        <template #graphic>\r\n          <work-pie-chart\r\n            :title=\"'Статусы поручений в работе'\"\r\n            :data=\"ass_statuses_calc\"\r\n          />\r\n\r\n          \r\n        </template>\r\n            <v-dialog\r\n      overlay-opacity= \".1\"\r\n      v-model=\"delete_dialog\"\r\n      max-width=\"490px\"\r\n    >\r\n      <DialogNewAssigment\r\n        text=\"Удалить поручение\"\r\n      >\r\n        <template #textarea>\r\n          <delAssigment/>\r\n        </template>\r\n        <template #btn1>\r\n          <v-btn\r\n            color=\"green darken-1\"\r\n            text\r\n            @click=\"delete_dialog = false\"\r\n          >\r\n            Отменить\r\n          </v-btn>\r\n        </template>\r\n        <template #btn2>\r\n          <v-btn\r\n            color=\"green darken-1\"\r\n            text\r\n            @click=\"assignment_del_run\"\r\n          >\r\n            Удалить\r\n          </v-btn>\r\n        </template>\r\n      </DialogNewAssigment>\r\n    </v-dialog>\r\n</work-task-ass-project>\r\n\r\n</template>\r\n\r\n<script>\r\nimport GantWork from '@/components/visual/GantWork.vue'\r\nimport moment from \"moment\";\r\nimport { createNamespacedHelpers } from \"vuex\";\r\nimport {axiosInstance} from '@/utils/api'\r\nimport informationorders from '@/components/assignments/informationorders.vue';\r\nimport filelist from '@/components/carddetails/files/filelist.vue';\r\nimport assignment from '@/components/assignments/assignment.vue';\r\nimport { bus } from \"@/main\";\r\nimport mMessegeListRight from '@/components/supogramm/mess_layouts/m-messege-list-right.vue';\r\nimport uf from '@/utils/universal_functions'\r\nconst globalstore = createNamespacedHelpers(\"globalstore\");\r\nconst assignmentstate = createNamespacedHelpers(\"assignmentstate\");\r\nconst projectstate = createNamespacedHelpers(\"projectstate\");\r\nconst taskstate = createNamespacedHelpers(\"taskstate\");\r\nconst workstate = createNamespacedHelpers(\"workstate\");\r\n\r\nconst { mapGetters } = createNamespacedHelpers(\"auth\");\r\n\r\nimport delAssigment from '@/components/dialog/fill/del-assigment.vue';\r\nimport Postpone from '../components/dialog/fill/postpone.vue';\r\nimport workPieChart from '@/components/UI/GRAPHICS/workPieChart.vue';\r\nimport WorkTaskAssProject from './pattern/work-task-ass-project.vue';\r\nimport LeftList from '@/components/carddetails/pattern/leftList.vue';\r\nimport wtasp from '@/utils/wtasp' //Содержит функции для Project, Task, Work\r\n\r\nexport default {\r\n\r\n  name:\"work\",\r\n\r\n  mixins:[uf, wtasp],\r\n\r\n  components:\r\n    {\r\n      GantWork,\r\n      informationorders,\r\n      assignment,\r\n      mMessegeListRight,\r\n      filelist,\r\n      delAssigment,\r\n      Postpone,\r\n      workPieChart,\r\n      WorkTaskAssProject,\r\n      LeftList\r\n    },\r\n\r\n    data: () => ({\r\n     \r\n      myid:null,\r\n      currentid:0,\r\n      waiter:false,\r\n      delete_dialog:false,  \r\n      assign_del_id: null,\r\n      activedCh: {},\r\n      chatview:true,\r\n      gantview: false,\r\n      breadcrumbs:[{href:'',disabled:true,text:\"\"}],\r\n      comment:\"\",\r\n      // workaccepted:0,\r\n      level:3,\r\n      task:{name:\"\",task_work:[],datestart:\"\",dateend:\"\",responsible:{id:\"\"},status:{id:0,name:\"\"},description:\"\"},\r\n      show:true,\r\n      tab: 0,\r\n      nedotab: 0,   \r\n      ws:null,\r\n      work: {name:\"\", parent:{name:\"\"}, status:{name:\"\"}, comment:[],\r\n            responsible:{fullname:\"\", position:{name:\"\"}},\r\n            work_assignment:[{name:\"\", status:{name:\"\"},comment:[],\r\n            author:{fullname:\"\", position:{name:\"\"}},\r\n            responsible:{fullname:\"\", position:{name:\"\"}}}]\r\n          }\r\n    }),\r\n    \r\n    computed: {\r\n      ...mapGetters([\"getUser\", ]),\r\n      ...globalstore.mapGetters([\"getassign_id\"]),\r\n\r\n      fullinfo(){\r\n        return [this.work,...this.work.work_assignment]\r\n      },\r\n\r\n      ass_statuses_calc(){\r\n        return this.pie_statuses_calc(this.work.work_assignment)\r\n      },\r\n\r\n    //  cardinfo(){ \r\n    //     if(this.tab==0){\r\n    //       return {...this.work,parent:this.task, type:'Задача:', role: 'Ответсвенный:'}\r\n    //     } else{\r\n    //        let assignment = this.work.work_assignment.find(t=>t.id == this.currentid)        \r\n    //       return {...assignment,parent:this.work, type:'Работа:', role: 'Ответсвенный:'}\r\n    //     }   \r\n       \r\n    //   },      \r\n    \r\n    },\r\n\r\n\r\n    mounted(){\r\n        moment.locales('ru')  \r\n       \r\n        this.ws = new this.$pws()\r\n        this.ws.start(this.$route.fullPath);\r\n         this.ws.addEvent('onmessage', (event) => {\r\n            const data = JSON.parse(event.data);\r\n        \r\n            if (\"action\" in data) {\r\n              try{\r\n                    this[data.action](data.payload)\r\n              }catch(e){console.log(e)\r\n              console.log(data.action)\r\n              }\r\n              }\r\n            else{\r\n              console.log(data)\r\n         \r\n              }\r\n           \r\n        })\r\n\r\n    \r\n\r\n    },\r\n   \r\n    methods:{\r\n        ...globalstore.mapMutations(['set_assign_id']),\r\n        ...projectstate.mapMutations([\"setProject\", \"clearProject\"]),\r\n        ...projectstate.mapGetters([\"getProject\",\"getprojectuniqueusers\"]),\r\n        ...workstate.mapGetters(['getworks']),\r\n        ...workstate.mapMutations([\"setWorks\"]),\r\n        ...taskstate.mapMutations([\"settasks\"]),\r\n        ...assignmentstate.mapGetters(['getAssignments','getAssignmentdatestart','getAssignmentdateend']),\r\n\r\n      newmessageincome(payload){               \r\n        console.log(`payload`, payload);\r\n        let index = this.mychats.findIndex(el=> el.id == payload.chat.id)\r\n        if (this.mychats[index].lastmessage.length==0 || this.mychats[index].lastmessage[this.mychats[index].lastmessage.length-1].id!=payload.id)\r\n        {this.mychats[index].lastmessage.push(payload)}\r\n        this.$refs.mychat.scrollbottom(payload.id)\r\n      },\r\n\r\n      filerenew(payload){\r\n        payload.forEach((el,index)=> payload[index].visible =el.visible.split(\"\") )\r\n        this.work.work_files = payload\r\n      },\r\n\r\n      fileupdated(payload){            \r\n        let ind = this.work.work_files.findIndex(el=>el.id==payload.id)        \r\n        this.work.work_files[ind].visible=payload.visible.split(\"\")\r\n      },\r\n\r\n      takeprev(payload){\r\n        let ind = this.mychats.findIndex(el=>el.id==payload.chat)   \r\n        if  (this.mychats[ind].lastmessage.length<20){\r\n            this.mychats[ind].lastmessage=payload.res\r\n            this.mychats[ind].lastmessage=this.mychats[ind].lastmessage\r\n        }\r\n        else{\r\n          this.mychats[ind].lastmessage = payload.res.concat(this.mychats[ind].lastmessage)\r\n        }\r\n        this.waiter=false\r\n      },\r\n\r\n      messagedeleted(payload){\r\n        try{\r\n          let ind = this.mychats.findIndex(e=>e.id==payload.chat)\r\n          let ind2=this.mychats[ind].lastmessage.findIndex(e=>e.id==payload.id)\r\n          this.mychats[ind].lastmessage.splice(ind2,1)\r\n          console.log(this.mychats[ind].lastmessage, \"slice\");}\r\n        catch{}\r\n      } ,\r\n\r\n      assupdate(payload){\r\n        if(payload.bigbuild){\r\n          this.rebuild()\r\n        }\r\n          let ind = this.work.work_assignment.findIndex(el=>el.id==payload.assignment.id)\r\n          for (let [key,val] of Object.entries(payload.assignment))\r\n            {\r\n                this.work.work_assignment[ind][key]=val\r\n            }\r\n        },\r\n   \r\n      tab0update(payload){\r\n          this.work.status = payload.status\r\n        },\r\n\r\n      renew(payload){\r\n        this.ws.stop()\r\n              console.log(\"aaaaad\")\r\n              this.ws.start(this.$route.fullPath);\r\n        this.activeChat()\r\n      },\r\n\r\n      filedeleted(payload){     \r\n        console.log(\"pl\");\r\n        let ind = this.work.work_files.findIndex(el=>el.id==payload.id)\r\n        this.work.work_files.splice(ind,1)\r\n      },\r\n\r\n      listchangetab(tab){\r\n          if (this.tab!=Number(tab)) {\r\n            this.show = false   \r\n            this.nedotab=Number(tab)\r\n\r\n         \r\n\r\n          }\r\n        this.afterLeave()\r\n        this.level=this.tab==0?3:4       \r\n\r\n      },\r\n      \r\n      \r\n      afterEnter(){\r\n        console.log(\"@after-enter=\")\r\n      },\r\n      afterLeave(){   \r\n            \r\n        this.tab=this.nedotab\r\n        console.log(`afterLeave`,this.tab, this.work); \r\n\r\n        this.currentid = this.tab==0?this.work.id:this.work.work_assignment[this.tab-1].id\r\n      \r\n        this.activeChat()\r\n        this.show=true\r\n        this.breadcrumbsBuildier()\r\n      },\r\n                     \r\n    createnewass(){\r\n      this.$refs.gantwork.createAssignment()\r\n    },\r\n\r\n    changegantview(){\r\n      this.gantview=false\r\n    },\r\n    chatviewer(){\r\n    \r\n      this.chatview=!this.chatview\r\n    },\r\n  \r\n  createtabchat(){\r\n    let name = this.work.name\r\n    let level = 3\r\n    let parent = this.work.id\r\n    let users = new Set()\r\n    if (this.tab==0){      \r\n      this.work.work_assignment.forEach(e=> users.add(e.responsible.id).add(e.author.id))\r\n      users.add(this.work.responsible.id)\r\n    }\r\n   \r\n   else{\r\n    level = 4\r\n    parent=this.fullinfo[this.tab].id  \r\n    users.add(this.fullinfo[this.tab].responsible.id).add(this.fullinfo[this.tab].author.id)\r\n    name =this.fullinfo[this.tab].name\r\n\r\n   }\r\n   this.chatview=true\r\n    bus.$emit(\"supogrammchatcreate\",{users:Array.from(users),name, level,parent})   \r\n\r\n  },\r\n\r\n\r\n\r\n  gantviewer(){\r\n      this.gantview=!this.gantview\r\n      if (this.gantview) this.$refs.gantwork.rebuild()\r\n    },\r\n\r\n\r\n    changetab(id){      \r\n      let tab=this.work.work_assignment.findIndex(el=>el.id==id)+1\r\n      this.listchangetab(tab)\r\n    },\r\n\r\n\r\n\r\n\r\n\r\n  \r\n\r\n    gantsaver(val){\r\n        delete val.val.history\r\n        this.ws.send({\"action\":val.am.method,\"payload\":val.val})\r\n        // this.set\r\n    },\r\n\r\n    changestatus(chang){ \r\n      console.log(chang);  \r\n      let action = \"workstatus\"  \r\n      let payload = {\r\n        id: chang.val.id,\r\n        status: chang.action,\r\n        comment: chang.comment,\r\n        ididit:chang.ididit,\r\n        h_action:chang.h_action\r\n        \r\n      }\r\n      \r\n      let check = this.getProject()\r\n      \r\n       \r\n      payload['project_status_update'] = check.status.id ==3?true:false\r\n      payload['task_status_update']= this.task.status.id < 2 ?true:false\r\n      \r\n      if (this.tab>0){\r\n        payload['work_status_update']= this.work.status.id < 2 ? true:false \r\n        action = \"assignmentstatus\"\r\n      }\r\n        this.ws.send({action,payload})\r\n    },\r\n\r\n\r\n\r\n        build(payload){         \r\n            console.log(payload);\r\n            if (\"project\" in payload)             this.setProject(payload.project)\r\n             this.myid=null!= this.getassign_id? this.getassign_id.id:null\r\n             this.set_assign_id(null)\r\n             \r\n             let wc = 0\r\n             payload.work.work_files.forEach((el,index)=> payload.work.work_files[index].visible =el.visible.split(\"\") )         \r\n           \r\n            this.setWorks(payload.work)\r\n            this.work = this.getworks()\r\n            \r\n            this.task = payload.task\r\n            this.settasks(payload.task)\r\n            console.log(`------------------fullinfo`, this.fullinfo, this.tab);\r\n            \r\n            if (this.myid!=null) this.changetab(this.myid)\r\n            this.currentid = this.tab==0?this.work.id:this.work.work_assignment[this.tab-1].id\r\n            this.breadcrumbsBuildier()\r\n          \r\n            this.mychats = payload[\"datachat\"]\r\n            this.activeChat()\r\n            this.level=this.tab==0?3:4\r\n\r\n        },\r\n\r\n        breadcrumbsBuildier(){\r\n          this.breadcrumbs=[\r\n                                { text: this.getProject().name, disabled: false, href: `/project/${this.getProject().id}` },                               \r\n                                   { text: this.task.name, disabled: false, href: `/project/${this.getProject().id}/task/${this.task.id}`  }]\r\n          if (this.tab>0)this.breadcrumbs.push( { text: this.work.name, disabled: false, href: `` }, )\r\n          \r\n            \r\n        },\r\n\r\n\r\n         activeChat(){          \r\n                let level = this.tab==0?3:4  \r\n                console.log(this.currentid,\"currentid\");  \r\n                try{\r\n                    this.activedCh = this.mychats.find(e=> e.parent == this.currentid && e.level ==level) \r\n                    console.log(\"измененный чат\",this.activedCh);\r\n                if (this.activedCh.lastmessage.length>0)\r\n               {this.$refs.mychat.scrollbottom(this.activedCh.lastmessage[this.activedCh.lastmessage.length-1].id)}\r\n              //  console.log(this.activedCh,\"actived\");\r\n                }\r\n                catch{\r\n                  this.activedCh ={}\r\n                }\r\n                this.chatview=\"id\" in this.activedCh\r\n            },\r\n\r\n        \r\n\r\n\r\n        confirmation(payload){\r\n          \r\n          this.work.work_assignment.forEach(el=> {\r\n                         \r\n                                                  el.menu=false \r\n                                                  el.action_confirm=false})\r\n          payload['work_status_update'] = this.work.work_assignment.every(el=>{ if(el.id==payload.id && payload.status==5){return true}\r\n                                                                                else if(el.status.id==5){return true}\r\n                                                                                return false\r\n        \r\n                                                                              })\r\n                                                                              ?\r\n                                                                              {\"res\":true,\"project\":this.getProject().id}:{'res':false}\r\n          this.ws.send({\"action\":\"confirmation\",\"payload\":payload})\r\n\r\n  \r\n        },\r\n        \r\n        VisSwitcher(file){     \r\n   \r\n\r\n        this.ws.send({\"action\":\"updateFile\",\"payload\":{id:file.id,visible: file.visible.join(\"\")}})\r\n     \r\n           },\r\n\r\n        assignment_del_run(){    \r\n            \r\n          \r\n          this.ws.send({\"action\":\"delasygmnt\",\"payload\":this.assign_del_id})\r\n          this.assign_del_id=null\r\n          this.delete_dialog=false\r\n      \r\n        },\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        rebuild(){\r\n         \r\n\r\n          this.ws.send({\"action\":\"rebuild\",\"payload\": this.work.id})\r\n        },\r\n\r\n\r\n        async uploadfile(formData){\r\n            let fileinfo = {project:this.getProject().id, work:this.work.id, task:this.work.parent.id, visible: '0010'}\r\n            if (this.tab>0){\r\n                fileinfo['assignment']=this.work.work_assignment[this.tab-1].id\r\n                fileinfo.visible='0001'\r\n            }\r\n           // Тут же заделаем потом на другие уровни - задачи и проекты\r\n            formData.append('info', JSON.stringify(fileinfo))\r\n           \r\n            let res = await axiosInstance.post( `/main/uploader`, formData,{\r\n                                        headers: {\r\n                                            \"Content-Type\": \"multipart/form-data\",\r\n                                        },\r\n                            })\r\n            if (\"created\" in res.data){\r\n                this.ws.send({\"action\":\"fileuploaded\",\"payload\":this.work.id})\r\n            }\r\n        }\r\n\r\n\r\n    }   ,\r\n        beforeDestroy() {\r\n      this.clearProject()\r\n    }\r\n        \r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n\r\n\r\n.v-window, .v-window__container {\r\n  display: flex;\r\n  flex-grow: 1;\r\n  flex-direction: column;\r\n\r\n}\r\n\r\n.theme--light .v-tabs-items {\r\n  background-color: transparent;\r\n}\r\n\r\n.v-window-item {\r\n    display: flex;\r\n  flex-grow: 1;\r\n  flex-direction: column;\r\n}\r\n\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Work.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Work.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Work.vue?vue&type=template&id=018651cf&\"\nimport script from \"./Work.vue?vue&type=script&lang=js&\"\nexport * from \"./Work.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Work.vue?vue&type=style&index=0&id=018651cf&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSlideXReverseTransition } from 'vuetify/lib/components/transitions';\ninstallComponents(component, {VBtn,VCard,VCol,VDialog,VDivider,VRow,VSlideXReverseTransition})\n"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","staticRenderFns","component","VCol","attrs","ref","ganttRef","startDateRange","endDateRange","scale","onCustomCommandClick","onContextMenuPreparing","on","onTaskDblClick","scopedSlots","_u","key","fn","taskk","data","statuser","id","_s","title","start","toLocaleDateString","end","_e","item","class","getTaskColor","taskData","style","width","taskSize","taskResources","length","text","contextMenuItems","$event","stopPropagation","$emit","proxy","createAssignment","apply","arguments","tasks","resources","resourceAssignments","model","value","callback","$$v","dialog","expression","actionmethod","dialoginfo","changeddialog","saveit","deldialog","back","projectstate","taskstate","workstate","assignmentstate","VBtn","$options","name","chatview","show","work","breadcrumbs","afterLeave","afterEnter","createnewass","listchangetab","allCard","confirmation","gantviewer","directives","rawName","gantsaver","changetab","changegantview","activedCh","tab","chatviewer","createtabchat","changestatus","Object","keys","waiter","work_files","level","status","concat","work_assignment","uploadfile","deletefile","VisSwitcher","ass_statuses_calc","delete_dialog","assignment_del_run","_l","getworks","elm","index","momentedDay","dateend","responsible","sn","comment","_g","_b","res","globalstore"],"sourceRoot":""}