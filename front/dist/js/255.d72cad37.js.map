{"version":3,"file":"js/255.d72cad37.js","mappings":"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Aa,QAAQmC,GAAG,CAAC,MAAQ/B,EAAI2E,UAAU,UAAY3E,EAAI4E,cAAc,IAAI,IAAI,IAAI,IAAI,EAAE,EAC1lBvD,EAAkB,G,gECsEtB,MAAMiD,GAAkB,EAAxB,yBACMH,GAAe,EAArB,sBAEME,IADY,EAAlB,oBACkB,EAAlB,qBAEM,WAAN,oBACA,OACA,0BACA,aACA,OACA,MACA,YACA,YAGA,WACA,YAEA,4CACA,WACA,eACA,QACA,sJACA,WACA,MACA,QACA,2DACA,6CACA,sDACA,wCACA,kDAGA,aACA,gBAIA,OACA,OACA,wCACA,mBAEA,GAOA,UACA,kBACA,sBACA,oCACA,kCACA,2BACA,eACA,uCACA,iBAKA,EACA,gBACA,uBACA,cACA,EACA,YACA,kCACA,wDACA,8BACA,gCACA,iFAGA,gBACA,uDACA,EACA,eACA,iDACA,EACA,YAGA,wEACA,EACA,mBACA,mBAEA,OADA,UACA,UACA,EACA,aAEA,4DACA,EAGA,aACA,8CAEA,+DAEA,EACA,kBACA,kEACA,oBAEA,+CAEA,yCACA,sCACA,wBACA,qCACA,mDAEA,EACA,wBACA,sDACA,oDAEA,EACA,SACA,0CAEA,QACA,qFACA,0EACA,sDAEA,sBACA,0BACA,uCACA,kBACA,kFACA,6EACA,0CAIA,EAEA,oBAEA,0GACA,kCACA,8EACA,iBAGA,+CAEA,gDACA,eACA,EAEA,eACA,uBAEA,gFAEA,EAGA,eACA,sDACA,mDAGA,EACA,cACA,yEAEA,EACA,aACA,2EACA,iCACA,EAIA,eAGA,sDACA,gCAEA,EACA,aACA,eACA,YACA,eAGA,sEACA,4CAGA,iCAKA,EACA,UACA,qDACA,EACA,oBAEA,mBACA,8CAGA,gBACA,+FACA,gBACA,kDACA,kBAEA,mCACA,0CACA,SACA,wCAGA,oBACA,0DAEA,IC7SoR,I,4GCQhR/C,GAAY,OACd,EACAtC,EACAqC,GACA,EACA,KACA,KACA,MAIF,EAAeC,EAAiB,QAWhC,IAAkBA,EAAW,CAACuD,aAAY,qBAAiB,UAAM,cAAU,UAAK,eAAW,SAAK,K","sources":["webpack://front/../../../src/components/VBreadcrumbs/VBreadcrumbsDivider.ts","webpack://front/../../../src/components/VBreadcrumbs/VBreadcrumbs.ts","webpack://front/../../../src/components/VBreadcrumbs/VBreadcrumbsItem.ts","webpack://front/./src/components/dialog/fill/add-assigment.vue?dce3","webpack://front/src/components/dialog/fill/add-assigment.vue","webpack://front/./src/components/dialog/fill/add-assigment.vue?02ba","webpack://front/./src/components/dialog/fill/add-assigment.vue","webpack://front/./src/components/dialog/fill/del-assigment.vue?8413","webpack://front/src/components/dialog/fill/del-assigment.vue","webpack://front/./src/components/dialog/fill/del-assigment.vue?f7e6","webpack://front/./src/components/dialog/fill/del-assigment.vue","webpack://front/./src/components/visual/GantWork.vue?dbb6","webpack://front/src/components/visual/GantWork.vue","webpack://front/./src/components/visual/GantWork.vue?3f3a","webpack://front/./src/components/visual/GantWork.vue","webpack://front/./src/views/Events.vue?d936","webpack://front/src/views/Events.vue","webpack://front/./src/views/Events.vue?a871","webpack://front/./src/views/Events.vue"],"sourcesContent":["import { createSimpleFunctional } from '../../util/helpers'\n\nexport default createSimpleFunctional('v-breadcrumbs__divider', 'li')\n","// Styles\nimport './VBreadcrumbs.sass'\n\n// Types\nimport { VNode } from 'vue'\nimport { PropValidator } from 'vue/types/options'\n\n// Components\nimport VBreadcrumbsItem from './VBreadcrumbsItem'\nimport VBreadcrumbsDivider from './VBreadcrumbsDivider'\n\n// Mixins\nimport Themeable from '../../mixins/themeable'\n\n// Utils\nimport mixins from '../../util/mixins'\n\nexport default mixins(\n  Themeable\n  /* @vue/component */\n).extend({\n  name: 'v-breadcrumbs',\n\n  props: {\n    divider: {\n      type: String,\n      default: '/',\n    },\n    items: {\n      type: Array,\n      default: () => ([]),\n    } as PropValidator<any[]>,\n    large: Boolean,\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        'v-breadcrumbs--large': this.large,\n        ...this.themeClasses,\n      }\n    },\n  },\n\n  methods: {\n    genDivider () {\n      return this.$createElement(VBreadcrumbsDivider, this.$slots.divider ? this.$slots.divider : this.divider)\n    },\n    genItems () {\n      const items = []\n      const hasSlot = !!this.$scopedSlots.item\n      const keys = []\n\n      for (let i = 0; i < this.items.length; i++) {\n        const item = this.items[i]\n\n        keys.push(item.text)\n\n        if (hasSlot) items.push(this.$scopedSlots.item!({ item }))\n        else items.push(this.$createElement(VBreadcrumbsItem, { key: keys.join('.'), props: item }, [item.text]))\n\n        if (i < this.items.length - 1) items.push(this.genDivider())\n      }\n\n      return items\n    },\n  },\n\n  render (h): VNode {\n    const children = this.$slots.default || this.genItems()\n\n    return h('ul', {\n      staticClass: 'v-breadcrumbs',\n      class: this.classes,\n    }, children)\n  },\n})\n","import Routable from '../../mixins/routable'\n\nimport mixins from '../../util/mixins'\nimport { VNode } from 'vue'\n\n/* @vue/component */\nexport default mixins(Routable).extend({\n  name: 'v-breadcrumbs-item',\n\n  props: {\n    // In a breadcrumb, the currently\n    // active item should be dimmed\n    activeClass: {\n      type: String,\n      default: 'v-breadcrumbs__item--disabled',\n    },\n    ripple: {\n      type: [Boolean, Object],\n      default: false,\n    },\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        'v-breadcrumbs__item': true,\n        [this.activeClass]: this.disabled,\n      }\n    },\n  },\n\n  render (h): VNode {\n    const { tag, data } = this.generateRouteLink()\n\n    return h('li', [\n      h(tag, {\n        ...data,\n        attrs: {\n          ...data.attrs,\n          'aria-current': this.isActive && this.isLink ? 'page' : undefined,\n        },\n      }, this.$slots.default),\n    ])\n  },\n})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-row',{staticClass:\"flex-grow-0 px-5\"},[_c('v-col',{staticClass:\"pb-0 pt-2\"},[_c('v-text-field',{staticClass:\"mb-0 pt-0\",attrs:{\"label\":\"Введите краткое название\",\"required\":\"\",\"hide-details\":\"\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1)],1),_c('v-row',{staticClass:\"flex-grow-0 px-5\"},[_c('v-col',{staticClass:\"pb-0 pt-2\"},[_c('v-text-field',{staticClass:\"mb-0 pt-0\",attrs:{\"label\":\"Введите полное название\",\"required\":\"\",\"hide-details\":\"\"},model:{value:(_vm.longname),callback:function ($$v) {_vm.longname=$$v},expression:\"longname\"}})],1)],1),_c('v-row',{staticClass:\"flex-grow-0 px-5\"},[_c('v-col',{staticClass:\"align-self-center py-0\"},[_c('Datepiker',{attrs:{\"mb\":'mt-0 pt-1',\"min\":_vm.actionmethod.min,\"max\":_vm.actionmethod.max,\"datestartstore\":_vm.actionmethod.datestartstore,\"dateendstore\":_vm.actionmethod.dateendstore}})],1),_c('v-col',{staticClass:\"align-self-end py-0\"},[_c('v-select',{attrs:{\"item-text\":\"text\",\"item-value\":\"id\",\"items\":_vm.resources,\"label\":_vm.actionmethod.responsible_text,\"required\":\"\",\"return-object\":\"\"},model:{value:(_vm.responsible),callback:function ($$v) {_vm.responsible=$$v},expression:\"responsible\"}})],1)],1),_c('v-row',{staticClass:\"flex-grow-0 px-5\"},[_c('v-col',{staticClass:\"pb-0 pt-2 d-flex\"},[_c('span',{staticClass:\"caption\"},[_vm._v(\"Сложность:\")]),_vm._v(\" \"),_c('v-rating',{staticClass:\"pb-2\",attrs:{\"color\":\"warning\",\"empty-icon\":\"mdi-star-outline\",\"full-icon\":\"mdi-star\",\"half-icon\":\"mdi-star-half-full\",\"hover\":\"\",\"length\":\"5\",\"size\":\"16\"},model:{value:(_vm.difficult),callback:function ($$v) {_vm.difficult=$$v},expression:\"difficult\"}})],1)],1),_c('v-row',{staticClass:\"px-5 mt-0\"},[_c('v-col',{staticClass:\"py-0\"},[_c('v-textarea',{staticClass:\"inputext aa_border\",attrs:{\"hide-details\":\"\",\"label\":\"Описание\",\"rows\":\"4\",\"auto-grow\":\"\"},model:{value:(_vm.description),callback:function ($$v) {_vm.description=$$v},expression:\"description\"}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <v-row class=\"flex-grow-0 px-5\">\r\n            <v-col class=\"pb-0 pt-2\">\r\n\r\n              <v-text-field\r\n                \r\n                v-model=\"name\"\r\n                label=\"Введите краткое название\"\r\n                required\r\n                class=\"mb-0 pt-0\"\r\n                hide-details\r\n              ></v-text-field>\r\n            </v-col>\r\n          </v-row>\r\n          <v-row class=\"flex-grow-0 px-5\">\r\n            <v-col class=\"pb-0 pt-2\">\r\n\r\n              <v-text-field\r\n                \r\n                v-model=\"longname\"\r\n                label=\"Введите полное название\"\r\n                required\r\n                class=\"mb-0 pt-0\"\r\n                hide-details\r\n              ></v-text-field>\r\n            </v-col>\r\n          </v-row>\r\n          <v-row  class=\"flex-grow-0 px-5\">\r\n            <v-col\r\n            class=\"align-self-center py-0\">\r\n              <Datepiker\r\n      \r\n                :mb=\"'mt-0 pt-1'\"\r\n                :min=\"actionmethod.min\"\r\n                :max=\"actionmethod.max\"\r\n                :datestartstore=\"actionmethod.datestartstore\"\r\n                :dateendstore=\"actionmethod.dateendstore\"\r\n               />\r\n            </v-col>\r\n\r\n            <v-col class=\"align-self-end py-0\">\r\n              <v-select\r\n              \r\n                v-model=\"responsible\"\r\n                item-text=\"text\"\r\n                item-value=\"id\"\r\n                :items='resources'\r\n                :label=\"actionmethod.responsible_text\"\r\n                required\r\n                return-object\r\n           \r\n              ></v-select>\r\n             \r\n            </v-col>\r\n\r\n          </v-row>\r\n          <v-row class=\"flex-grow-0 px-5\">\r\n            <v-col class=\"pb-0 pt-2 d-flex\">  <span class=\"caption\">Сложность:</span> <v-rating\r\n          class=\"pb-2\"\r\n          color=\"warning\"\r\n          empty-icon=\"mdi-star-outline\"\r\n          full-icon=\"mdi-star\"\r\n          half-icon=\"mdi-star-half-full\"\r\n          hover\r\n          length=\"5\"\r\n          \r\n          size=\"16\"\r\n          v-model=\"difficult\"\r\n        ></v-rating>\r\n            </v-col>\r\n            </v-row>\r\n          <v-row class=\"px-5 mt-0\">\r\n            <v-col class=\"py-0\">\r\n              <v-textarea\r\n                class=\"inputext aa_border\"\r\n                v-model=\"description\"\r\n                hide-details\r\n                label=\"Описание\"\r\n                rows=\"4\"\r\n                auto-grow\r\n     \r\n          \r\n            >\r\n            </v-textarea> \r\n            </v-col>\r\n          </v-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name:\"AddAssigment\",\r\n\r\n    props:{\r\n      actionmethod:{\r\n        type: Object,\r\n        default: ()=>{}\r\n      },\r\n      dialoginfo:{\r\n        type:Object,\r\n        default:()=> {return {}}\r\n      },\r\n      resources: {\r\n         type: Array,\r\n        default: ()=>[]      \r\n      },\r\n   \r\n    },\r\n\r\n    computed:{\r\n   \r\n        name:{\r\n        get(){\r\n            return this.dialoginfo.name\r\n        },\r\n        set(val){\r\n          \r\n            this.$emit(\"changeddialog\", Object.assign(this.dialoginfo,{name:val}) )\r\n        }\r\n        },\r\n         longname:{\r\n        get(){\r\n            return this.dialoginfo.longname\r\n        },\r\n        set(val){\r\n          \r\n            this.$emit(\"changeddialog\", Object.assign(this.dialoginfo,{longname:val}) )\r\n        }\r\n        },\r\n      \r\n        responsible:{\r\n        get(){\r\n            return this.dialoginfo.responsible\r\n        },\r\n        set(val){\r\n            this.$emit(\"changeddialog\", Object.assign(this.dialoginfo,{responsible:val}) )\r\n        }\r\n        },\r\n\r\n        description: {\r\n        get(){\r\n            return this.dialoginfo.description\r\n        },\r\n        set(val){\r\n           this.$emit(\"changeddialog\", Object.assign(this.dialoginfo,{description:val}) )\r\n        }\r\n        },\r\n\r\n        difficult: {\r\n        get(){\r\n           \r\n            return this.dialoginfo.difficult\r\n        },\r\n        set(val){        \r\n           this.$emit(\"changeddialog\", Object.assign(this.dialoginfo,{'difficult':val}) )\r\n        }\r\n        }\r\n\r\n       \r\n       \r\n\r\n        }\r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n.aa_border textarea {\r\n  border-top: 1px solid grey;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./add-assigment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./add-assigment.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./add-assigment.vue?vue&type=template&id=6dc0a374&\"\nimport script from \"./add-assigment.vue?vue&type=script&lang=js&\"\nexport * from \"./add-assigment.vue?vue&type=script&lang=js&\"\nimport style0 from \"./add-assigment.vue?vue&type=style&index=0&id=6dc0a374&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VRating } from 'vuetify/lib/components/VRating';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\ninstallComponents(component, {VCol,VRating,VRow,VSelect,VTextField,VTextarea})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-row',[_c('v-col',{staticClass:\"py-0\"},[_vm._v(\" Внимание! Это действие приведет к тому, что все данные поручения (в том числе файлы и чаты, будут удалены) \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n\r\n      <v-row>\r\n        <v-col class=\"py-0\">\r\n          Внимание! Это действие приведет к тому, что все данные поручения (в том числе файлы и чаты, будут удалены)\r\n       \r\n        </v-col>\r\n      </v-row>\r\n     \r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name:\"delAssigment\"\r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./del-assigment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./del-assigment.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./del-assigment.vue?vue&type=template&id=b034cb5e&\"\nimport script from \"./del-assigment.vue?vue&type=script&lang=js&\"\nexport * from \"./del-assigment.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VCol,VRow})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"gant\"}},[_c('div',{},[_c('DxGantt',{ref:_vm.ganttRef,attrs:{\"show-row-lines\":false,\"start-date-range\":_vm.startDateRange,\"end-date-range\":_vm.endDateRange,\"first-day-of-week\":1,\"task-list-width\":0,\"height\":350,\"scale-type\":_vm.scale,\"task-content-template\":'taskContentTemplate',\"task-tooltip-content-template\":'TooltipContentTemplate',\"on-custom-command\":_vm.onCustomCommandClick,\"on-context-menu-preparing\":_vm.onContextMenuPreparing},on:{\"task-dbl-click\":_vm.onTaskDblClick},scopedSlots:_vm._u([{key:\"TooltipContentTemplate\",fn:function(ref){\nvar taskk = ref.data;\nreturn [(_vm.statuser(taskk.id)!=false)?_c('div',{staticClass:\"custom-task-edit-tooltip pa-2\"},[_c('div',{staticClass:\"custom-tooltip-title\"},[_vm._v(\"\\\"\"+_vm._s(taskk.title)+\"\\\"\")]),_c('div',[_vm._v(\" Дата начала: \"+_vm._s(taskk.start.toLocaleDateString())+\" \")]),_c('div',[_vm._v(\"Дата окончания: \"+_vm._s(taskk.end.toLocaleDateString()))]),_c('div',[_vm._v(\"Статус: \"+_vm._s(_vm.statuser(taskk.id)))])]):_vm._e()]}},{key:\"taskContentTemplate\",fn:function(ref){\nvar item = ref.data;\nreturn [_c('div',{staticClass:\"custom-task\",class:_vm.getTaskColor(item.taskData.id),style:({width: item.taskSize.width + 'px'})},[_c('div',{staticClass:\"custom-task-wrapper\"},[_c('div',{staticClass:\"custom-task-row\"},[_vm._v(\" \"+_vm._s(item.taskData.title)+\" -- \"+_vm._s((item && 'taskResources' in item && item.taskResources.length)? item.taskResources[0].text:''))])])])]}}])},[_c('DxContextMenu',{attrs:{\"items\":_vm.contextMenuItems}}),_c('DxScaleTypeRange',{attrs:{\"min\":\"days\",\"max\":\"years\"}}),_c('DxToolbar',[_c('DxItem',{scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('v-btn',{staticClass:\"mx-auto px-auto pl-1\",attrs:{\"icon\":\"\",\"x-small\":\"\",\"color\":\"btns\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('changegantview')}}},[_c('v-icon',{attrs:{\"color\":\"primary\"}},[_vm._v(\"mdi-close\")])],1)]},proxy:true}])}),_c('DxItem',{attrs:{\"name\":\"undo\"}}),_c('DxItem',{attrs:{\"name\":\"redo\"}}),_c('DxItem',{attrs:{\"name\":\"separator\"}}),_c('DxItem',{attrs:{\"name\":\"collapseAll\"}}),_c('DxItem',{attrs:{\"name\":\"expandAll\"}}),_c('DxItem',{attrs:{\"name\":\"separator\"}}),_c('DxItem',{attrs:{\"name\":\"zoomIn\"}}),_c('DxItem',{attrs:{\"name\":\"zoomOut\"}}),_c('DxItem',{attrs:{\"name\":\"fullScreen\"}}),_c('DxItem',{attrs:{\"name\":\"separator\"}}),_c('DxItem',{scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('v-btn',{staticClass:\"inyand--text\",attrs:{\"x-small\":\"\",\"color\":\"btns\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.createAssignment.apply(null, arguments)}}},[_vm._v(\" Создать поручение\")])]},proxy:true}])})],1),_c('DxTasks',{attrs:{\"data-source\":_vm.tasks}}),_c('DxResources',{attrs:{\"data-source\":_vm.resources}}),_c('DxResourceAssignments',{attrs:{\"data-source\":_vm.resourceAssignments}}),_c('DxEditing',{attrs:{\"enabled\":false}}),_vm._v(\" :allow-resource-adding = false :allow-resource-deleting = false \"),_c('DxColumn',{attrs:{\"data-field\":\"title\",\"caption\":\"\",\"width\":1}})],1)],1),_c('v-dialog',{attrs:{\"overlay-opacity\":\".1\",\"max-width\":\"700px\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('DialogNewAssigment',{staticClass:\"dialog_gantWork_create_assignment\",attrs:{\"text\":_vm.actionmethod.text,\"ma\":\"heightCard\"},scopedSlots:_vm._u([{key:\"textarea\",fn:function(){return [_c('add-assigment',{attrs:{\"actionmethod\":_vm.actionmethod,\"resources\":_vm.resources,\"dialoginfo\":_vm.dialoginfo},on:{\"changeddialog\":_vm.changeddialog}})]},proxy:true},{key:\"btn1\",fn:function(){return [_c('BtnsOut',{attrs:{\"title\":\"Отмена\"},on:{\"click\":function($event){_vm.dialog=false}}})]},proxy:true},{key:\"btn2\",fn:function(){return [_c('BtnsOut',{attrs:{\"title\":\"Сохранить\"},on:{\"click\":_vm.saveit}})]},proxy:true}])})],1),_c('v-dialog',{attrs:{\"overlay-opacity\":\".1\",\"max-width\":\"490px\"},model:{value:(_vm.deldialog),callback:function ($$v) {_vm.deldialog=$$v},expression:\"deldialog\"}},[_c('DialogNewAssigment',{attrs:{\"text\":\"Удалить поручение\"},scopedSlots:_vm._u([{key:\"textarea\",fn:function(){return [_c('delAssigment')]},proxy:true},{key:\"btn1\",fn:function(){return [_c('BtnsOut',{attrs:{\"title\":\"Отмена\",\"outlined\":true},on:{\"click\":_vm.back}})]},proxy:true},{key:\"btn2\",fn:function(){return [_c('BtnsOut',{attrs:{\"outlined\":true,\"text\":true,\"title\":\"Удалить\"},on:{\"click\":_vm.saveit}})]},proxy:true}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"gant\">\r\n    <!--   <link rel=\"stylesheet\" type=\"text/css\" href=\"https://cdn3.devexpress.com/jslib/22.2.3/css/dx.dark.compact.css\" /> -->\r\n    <!-- <link rel=\"stylesheet\" type=\"text/css\" href=\"https://cdn3.devexpress.com/jslib/22.2.3/css/dx-gantt.css\" /> -->\r\n\r\n    <div class=\"\" >\r\n \r\n      <DxGantt\r\n       :show-row-lines=\"false\"\r\n        :start-date-range=\"startDateRange\"\r\n        :end-date-range=\"endDateRange\"\r\n        :first-day-of-week=\"1\"\r\n        :task-list-width=\"0\"\r\n        :height=\"350\"\r\n        :scale-type=\"scale\"\r\n        :task-content-template=\"'taskContentTemplate'\"\r\n        :task-tooltip-content-template=\"'TooltipContentTemplate'\"\r\n        :ref=\"ganttRef\"\r\n        :on-custom-command=\"onCustomCommandClick\"\r\n        :on-context-menu-preparing=\"onContextMenuPreparing\"\r\n        @task-dbl-click=\"onTaskDblClick\"\r\n      >\r\n       <!--   -->\r\n       <DxContextMenu\r\n          :items=\"contextMenuItems\"\r\n        />\r\n           <DxScaleTypeRange\r\n            min=\"days\"\r\n            max=\"years\"\r\n        />\r\n     <DxToolbar\r\n    \r\n     >\r\n      <DxItem>\r\n            <template #default>   \r\n        <v-btn   \r\n        icon\r\n        class=\"mx-auto px-auto pl-1\"\r\n         @click.stop=\"$emit('changegantview')\"    \r\n                x-small\r\n               \r\n                color=\"btns\"\r\n                ><v-icon\r\n                color=\"primary\"\r\n                >mdi-close</v-icon>\r\n                </v-btn>\r\n        </template>\r\n            </DxItem>    \r\n        <DxItem name=\"undo\"/>\r\n        <DxItem name=\"redo\"/>\r\n        <DxItem name=\"separator\"/>\r\n        <DxItem name=\"collapseAll\"/>\r\n        <DxItem name=\"expandAll\"/>\r\n        <DxItem name=\"separator\"/>\r\n      \r\n        <DxItem name=\"zoomIn\"/>\r\n        <DxItem name=\"zoomOut\"/>\r\n         <DxItem name=\"fullScreen\"/>\r\n        <DxItem name=\"separator\"/>\r\n        <DxItem>\r\n            <template #default>       \r\n         \r\n        <v-btn   \r\n        \r\n         @click.stop=\"createAssignment\"    \r\n                x-small\r\n                class=\"inyand--text\"\r\n                color=\"btns\"\r\n                >\r\n                Создать поручение</v-btn>\r\n      \r\n                \r\n \r\n                   \r\n            </template>\r\n                    </DxItem>\r\n\r\n      </DxToolbar>\r\n\r\n        <DxTasks :data-source=\"tasks\"/>\r\n     \r\n        <DxResources     \r\n        :data-source=\"resources\"/>\r\n\r\n        <DxResourceAssignments \r\n        \r\n        \r\n        :data-source=\"resourceAssignments\"/>\r\n\r\n        <DxEditing :enabled=\"false\"\r\n           \r\n        />\r\n         :allow-resource-adding = false\r\n        :allow-resource-deleting = false    \r\n\r\n       <DxColumn\r\n         \r\n          data-field=\"title\"\r\n          caption=\"\"\r\n           :width=\"1\"\r\n        />\r\n\r\n\r\n       <template #TooltipContentTemplate=\"{ data: taskk }\">\r\n            <div class=\"custom-task-edit-tooltip pa-2\" v-if=\"statuser(taskk.id)!=false\">\r\n                <div class=\"custom-tooltip-title\">\"{{ taskk.title }}\"</div>\r\n            <div>\r\n                Дата начала: {{taskk.start.toLocaleDateString()}}\r\n            </div>\r\n            <div>Дата окончания: {{taskk.end.toLocaleDateString()}}</div>\r\n            <div>Статус: {{statuser(taskk.id)}}</div>\r\n            </div>\r\n        </template>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        \r\n        <template #taskContentTemplate=\"{ data: item }\">\r\n           \r\n          <div\r\n            class=\"custom-task\"\r\n            :class=\"getTaskColor(item.taskData.id)\"\r\n            :style=\"{width: item.taskSize.width + 'px'}\"\r\n          >\r\n\r\n            <div class=\"custom-task-wrapper\">\r\n\r\n            \r\n              <div class=\"custom-task-row\">   {{ item.taskData.title }} -- \r\n                 {{(item && 'taskResources' in item && item.taskResources.length)? item.taskResources[0].text:'' }}</div>\r\n            </div>\r\n   \r\n          </div>\r\n        </template>\r\n      </DxGantt>\r\n    </div>\r\n\r\n\r\n    <v-dialog\r\n      overlay-opacity= \".1\"\r\n      v-model=\"dialog\"\r\n      max-width=\"700px\"\r\n    >\r\n      <DialogNewAssigment\r\n        :text=\"actionmethod.text\"\r\n        ma=\"heightCard\"\r\n        class=\"dialog_gantWork_create_assignment\"\r\n      >\r\n        <template #textarea>\r\n          <add-assigment\r\n            :actionmethod=\"actionmethod\"\r\n            :resources=\"resources\"\r\n            :dialoginfo=\"dialoginfo\" \r\n            @changeddialog=\"changeddialog\"    \r\n          />\r\n        </template>\r\n        <template #btn1>\r\n          <BtnsOut\r\n            title=\"Отмена\"\r\n            @click=\"dialog=false\"\r\n          />\r\n        </template>\r\n        <template #btn2>\r\n          <BtnsOut\r\n            title=\"Сохранить\"\r\n            @click=\"saveit\"\r\n          />\r\n        </template>\r\n      </DialogNewAssigment>\r\n  </v-dialog>\r\n     \r\n    <v-dialog\r\n      overlay-opacity= \".1\"\r\n      v-model=\"deldialog\"\r\n      max-width=\"490px\"\r\n    >\r\n      <DialogNewAssigment\r\n        text=\"Удалить поручение\"\r\n      >\r\n        <template #textarea>\r\n          <delAssigment/>\r\n        </template>\r\n        <template #btn1>\r\n          <BtnsOut\r\n            title=\"Отмена\"\r\n            :outlined=\"true\"\r\n            @click=\"back\"\r\n          />\r\n        </template>\r\n        <template #btn2>\r\n          <BtnsOut\r\n            :outlined=\"true\"\r\n            :text=\"true\"\r\n            title=\"Удалить\"\r\n            @click=\"saveit\"\r\n          />\r\n        </template>\r\n      </DialogNewAssigment>\r\n    </v-dialog>\r\n\r\n\r\n\r\n  </div> \r\n</template>\r\n\r\n<script>\r\nconst ganttRef = 'gantt'\r\n\r\nimport addAssigment from '@/components/dialog/fill/add-assigment.vue'\r\n\r\nimport  gantff  from '@/utils/gant.js'\r\nimport { createNamespacedHelpers } from \"vuex\";\r\nconst projectstate = createNamespacedHelpers(\"projectstate\");\r\nconst taskstate = createNamespacedHelpers(\"taskstate\");\r\nconst workstate = createNamespacedHelpers(\"workstate\");\r\nconst assignmentstate = createNamespacedHelpers(\"assignmentstate\");\r\nimport deMessages from \"devextreme/localization/messages/ru.json\";\r\nimport { locale, loadMessages } from \"devextreme/localization\"\r\nimport {\r\nDxToolbar,\r\n  DxScaleTypeRange, \r\n  DxItem,\r\n  DxGantt,\r\n  DxTasks,\r\n  DxDependencies,\r\n  DxResources,\r\n  DxResourceAssignments,\r\n  DxColumn,\r\n  DxEditing,\r\n  DxContextMenu,\r\n} from 'devextreme-vue/gantt';\r\n\r\n;\r\nimport DialogNewAssigment from '@/components/dialog/UI/dialog-new-assignment.vue';\r\nimport delAssigment from '@/components/dialog/fill/del-assigment.vue';\r\n\r\nexport default {\r\n  components: {\r\n    DxScaleTypeRange, \r\n    DxContextMenu,\r\n    DxGantt,\r\n    DxTasks,\r\n    DxDependencies,\r\n    DxResources,\r\n    DxResourceAssignments,\r\n    DxColumn,\r\n    DxEditing,\r\n    DxToolbar,\r\n    DxItem,\r\n    DialogNewAssigment,\r\n    addAssigment,\r\n    delAssigment\r\n  },\r\n mixins:[gantff],\r\n  data() {\r\n    return {\r\n      dialoginfo:{},\r\n      scale:\"year\",\r\n      selectedkey:\"\",\r\n      ganttRef,\r\n      actionmethod:{method:\"addWork\", text:\"Создание работы\",dateendstore:\"\",datestartstore:\"\",min:\"\",max:\"\", level:\"work\"},\r\n      dialog:false,\r\n      deldialog:false,\r\n      tasks:[],\r\n      asgmnts:[],\r\n      // task:[ { name: 'edittask', text: 'Редактировать задачу' },{ name: 'addwork', text: 'Создать Работу' }, ],\r\n      work:[ { name: 'editwork', text: 'Редактировать работу' }, { name: 'createAssignment', text: 'Создать поручение' }, {name: 'delwork', text: 'Удалить'} ],\r\n      ass:[{ name: 'editasygmnt', text: 'Редактировать поручение' },  {name: 'delasygmnt', text: 'Удалить'}],\r\n      contextMenuItems: [],\r\n      resourceAssignments:[],\r\n      disableContextMenu: false,\r\n    };\r\n  },\r\n  created(){\r\n        loadMessages(deMessages);\r\n        locale(navigator.language);\r\n         \r\n         \r\n  },\r\n\r\n  computed:{  \r\n      \r\n    responsible: {\r\n      get(){\r\n        return this.gettasks().responsible\r\n      },\r\n      set(value){\r\n         this.settasksresponsible(value)\r\n      }\r\n    },\r\n\r\n    gantt: function() {\r\n      this.scale  = this.date_watch(this.startDateRange, this.endDateRange)\r\n      return this.$refs[ganttRef].instance;},\r\n    resources:{\r\n        get(){\r\n           \r\n            return this.getprojectuniqueusers().filter(e=>e.role.id!=6)          \r\n        }\r\n    },\r\n    \r\n  //  rpchange(){return this.getProjectrp()},\r\n   tasksOR(){     \r\n    return  this.getworks().work_assignment},\r\n    startDateRange(){\r\n        return this.tasks[0]? this.tasks[0].start:new Date()},\r\n     \r\n    endDateRange(){\r\n        return this.tasks[0]? this.tasks[0].end:new Date()}\r\n \r\n        ,\r\n    \r\n\r\n  },\r\n\r\n  watch:{\r\n  \r\n    // },\r\n    tasksOR(val){  \r\n      \r\n         this.tasks=[]\r\n        this.tasks[0]=this.topline(this.getworkidname(),this.getWorkdatestart(),this.getWorkdateend())   \r\n        \r\n        \r\n        this.resourceAssignments=[{id:-1, taskId:`parent-${this.getworkidname().id}`, resourceId: this.getworkidname().resp }]\r\n        \r\n        if (val.length){        \r\n          \r\n            for (let i=0;i<val.length;i++){\r\n                \r\n                this.tasks.push({id:`ass-${val[i].id}`, title:val[i].name, parentId:this.tasks[0].id, start:new Date(val[i].datestart),end:new Date(val[i].dateend), status:val[i].status})\r\n               \r\n                this.resourceAssignments.push({id:i, taskId:`ass-${val[i].id}`, resourceId: val[i].responsible.id})\r\n               \r\n                \r\n           }               \r\n        }      \r\n    this.gantt.refresh(); \r\n    }\r\n  },\r\n  \r\n  methods: {\r\n\r\n     ...projectstate.mapGetters([\"getprojectuniqueusers\",'getprojectTasks','getprojectWorks','getProjectdatestart','getProjectdateend','getprojectIdName','getProjectrp','getProject']),\r\n     ...taskstate.mapGetters([\"getTaskdatestart\",\"getTaskdateend\",\"gettasks\"]),\r\n     ...taskstate.mapMutations([\"setTaskdateend\",\"setTaskdatestart\",'settasks','settasksresponsible','settasksname']),\r\n     ...workstate.mapGetters([\"getWorkdatestart\",\"getWorkdateend\",\"getworks\",\"getworkidname\"]),\r\n     ...workstate.mapMutations([\"setWorkdateend\",\"setWorkdatestart\",'setWorks','setworksresponsible','setworksname']),\r\n    ...assignmentstate.mapGetters(['getAssignments','getAssignmentdatestart','getAssignmentdateend']),\r\n    ...assignmentstate.mapMutations(['setAssignmentdescript','setAssignments','setAssignmentname','setAssignmentdateend','setAssignmentdatestart','setAssignmentresponsible']),\r\n  \r\n   \r\n  \r\n    statuser(id){\r\n      try{\r\n      let el = this.tasks.find(el=>el.id==id)\r\n     \r\n      return el.status.name}\r\n      catch{\r\n        return false\r\n      }\r\n    },\r\n\r\n    back(){\r\n            this.deldialog=false\r\n          \r\n\r\n    },\r\n      \r\n  \r\n\r\n\r\n\r\n  \r\n\r\n    onTaskDblClick(e){\r\n         e.cancel = true;\r\n        \r\n        if(!(['parent','ass'].includes(e.data.id.split(\"-\")[0])) ){ this.$router.push(`/${e.data.id.split(\"-\").join(\"/\")}`)}\r\n        else if(e.data.id.split(\"-\")[0]==\"ass\"){\r\n          let id = e.data.id.split(\"-\")[1]\r\n          this.$emit('changetab', id)\r\n        }\r\n    },\r\n\r\n\r\n    \r\n    getTaskColor(taskId) {\r\n      \r\n      \r\n      let el = this.tasks.find(e=>e.id==taskId)      \r\n      if (el.id.startsWith(\"parent\"))el=this.getworks()\r\n      return `custom-task-color-${el.status.id}`;\r\n    },\r\n\r\n\r\n\r\n   delasygmnt(){\r\n    let w=[] \r\n \r\n    this.setAssignments(this.getworks().work_assignment.find(e=> e.id==Number(this.selectedkey.id.split(\"-\")[1])))\r\n    this.dialoginfo= this.getAssignments()\r\n    this.actionmethod={method:\"delasygmnt\", \r\n                             level:'Assignments',\r\n                            text:\"Удаление поручения\",\r\n                            datestartstore:'Assignmentdatestart',\r\n                            dateendstore:'Assignmentdateend'}                            \r\n                            \r\n      this.deldialog=true\r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  },\r\n  createAssignment(){     \r\n     \r\n      this.setAssignments({name:\"\",longname:\"\",difficult:0,parent:this.getworks().id, responsible:{},datestart:\"\",dateend:\"\"})\r\n      this.dialoginfo= this.getAssignments()\r\n      this.actionmethod={method:\"createasygmnt\", \r\n                          level:\"Assignments\", \r\n                          responsible_text:\"Исполнитель\",\r\n                          text:\"Создание поручения\",\r\n                        min:this.getWorkdatestart(), \r\n                        max:this.getWorkdateend(),\r\n                        datestartstore:'Assignmentdatestart',\r\n                        dateendstore:'Assignmentdateend'}\r\n      this.dialog=true\r\n\r\n\r\n  },\r\n\r\n  editasygmnt(){\r\n\r\n    let el = this.getworks().work_assignment.find(e=>e.id==this.selectedkey.id.split(\"-\")[1]  && this.selectedkey.id.split(\"-\")[0]=='ass')\r\n   console.log(el);\r\n    this.setAssignments(el)\r\n     this.dialoginfo = this.getAssignments()\r\n      this.actionmethod={method:\"editasygmnt\", \r\n                          level:\"Assignments\", \r\n                          text:\"Редактирование поручения\",\r\n                          responsible_text:\"Исполнитель\",\r\n                        min:this.getWorkdatestart(), \r\n                        max:this.getWorkdateend(),\r\n                        datestartstore:'Assignmentdatestart',\r\n                        dateendstore:'Assignmentdateend'}\r\n      \r\n      this.dialog=true\r\n\r\n\r\n  },\r\n\r\n   \r\n  },\r\n};\r\n</script>\r\n<style>\r\n @import './gant.css';\r\n @import './lightgant.css';\r\n\r\n\r\n.custom-task-color-1 {\r\n  background-color: #8c9a92;\r\n}\r\n\r\n.custom-task-color-2 {\r\n  background-color: #006fde;\r\n}\r\n\r\n.custom-task-color-3 {\r\n  background-color: #d7a203;\r\n}\r\n\r\n.custom-task-color-4 {\r\n  background-color: #ce5b47;\r\n}\r\n\r\n.custom-task-color-5 {\r\n  background-color: #35b86b;\r\n}\r\n\r\n.custom-task-color-6 {\r\n  background-color: #9f47ce;\r\n}\r\n\r\n.custom-task {\r\n  max-height: 40px;\r\n  height: 100%;\r\n  display: block;\r\n  overflow: hidden;\r\n}\r\n\r\n.custom-task-wrapper {\r\n  padding: 1px;\r\n  color: #fff;\r\n}\r\n\r\n.custom-task-wrapper > * {\r\n  display: block;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.custom-task-img-wrapper {\r\n  float: left;\r\n  width: 32px;\r\n  height: 32px;\r\n  border-radius: 50%;\r\n  margin: 8px;\r\n  background-color: #fff;\r\n  overflow: hidden;\r\n}\r\n\r\n.custom-task-img {\r\n  width: 32px;\r\n}\r\n\r\n/* .custom-task-title {\r\n  font-weight: 300;\r\n  font-size: 13px;\r\n} */\r\n\r\n.custom-task-row {\r\n  font-size: .8rem;\r\n}\r\n\r\n.custom-task-progress {\r\n  position: absolute;\r\n  left: 0;\r\n  bottom: 0;\r\n  width: 0%;\r\n  height: 4px;\r\n  background: rgba(0, 0, 0, 0.3);\r\n}\r\n \r\n.dx-gantt .dx-row {\r\n  height: .5rem;\r\n} \r\n.dx-splitter-wrapper{\r\n    z-index: 8;\r\n}\r\n.dx-gantt-taskWrapper{\r\n     z-index: 7;\r\n}\r\n\r\n.custom-task-edit-tooltip{\r\n  background: rgba(17, 17, 17, 0.707);\r\n  color: white;\r\n}\r\n\r\n.v-input .v-label {\r\n    color: rgb(116 111 111 / 60%);\r\n}\r\n.h_dna {\r\n  height: 220px;\r\n}\r\n\r\n.heightCard {\r\n  \r\n    height: 320px;\r\n    margin: 12px;\r\n\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./GantWork.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./GantWork.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GantWork.vue?vue&type=template&id=2e92e576&\"\nimport script from \"./GantWork.vue?vue&type=script&lang=js&\"\nexport * from \"./GantWork.vue?vue&type=script&lang=js&\"\nimport style0 from \"./GantWork.vue?vue&type=style&index=0&id=2e92e576&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VBtn,VDialog,VIcon})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"flex-col h-100 w-100\",attrs:{\"fluid\":\"\"}},[_c('v-row',[_c('v-col',{staticClass:\"flex-col\"},[_c('Cards',{scopedSlots:_vm._u([{key:\"cards\",fn:function(){return [_c('v-row',[_c('v-col',{staticClass:\"flex-grow-0\"}),_c('v-col',{staticClass:\"flex-col\"},[_c('v-row',{staticClass:\"flex-grow-0\"},[_c('v-col',{staticClass:\"pa-0\"},[_c('v-breadcrumbs',{staticClass:\"pa-0 justify-end pr-2\",attrs:{\"items\":_vm.breadcrumbs},scopedSlots:_vm._u([{key:\"item\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-breadcrumbs-item',{attrs:{\"href\":item.href,\"disabled\":item.disabled}},[_vm._v(\" \"+_vm._s(item.text.toUpperCase())+\" \")])]}}])})],1)],1),_c('v-row',[_c('v-col',[_vm._v(\" 3 \")])],1)],1)],1)]},proxy:true}])})],1)],1),_c('v-row',{staticClass:\"flex-grow-0\"},[_c('v-col',{staticClass:\"pt-0\"},[_c('v-card',{staticClass:\"flex-col flex-grow-1 rounded\",attrs:{\"color\":\"main_theme\",\"outlined\":\"\"}},[_c('v-card-text',{staticClass:\"flex-col flex-grow-1 pa-0 inyand\"},[_c('gant-work',{staticClass:\"pa-1\",attrs:{\"startlevel\":'work'},on:{\"saver\":_vm.gantsaver,\"changetab\":_vm.changetab}})],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<v-container class=\"flex-col h-100 w-100\" fluid>\r\n    <!-- <v-row class=\"styck\">\r\n        <v-col>\r\n            <pre>\r\n            <br>{{breadcrumbs}}\r\n            </pre>\r\n        </v-col>\r\n    </v-row> -->\r\n    <v-row>\r\n        <v-col class=\"flex-col\">\r\n            <Cards>\r\n                <template #cards>\r\n                    <v-row>\r\n                        <v-col\r\n                            class=\"flex-grow-0\"\r\n                        >\r\n                        </v-col>\r\n                         <v-col class=\"flex-col\">\r\n                            <v-row class=\"flex-grow-0\">\r\n                                <v-col class=\"pa-0\">\r\n                                  <v-breadcrumbs\r\n                                    class=\"pa-0 justify-end pr-2\"\r\n                                    :items=\"breadcrumbs\"\r\n                                  >\r\n                                      <template v-slot:item=\"{ item }\">\r\n                                          <v-breadcrumbs-item\r\n                                              :href=\"item.href\"\r\n                                              :disabled=\"item.disabled\"\r\n                                          >\r\n                                              {{ item.text.toUpperCase() }}\r\n                                          </v-breadcrumbs-item>\r\n                                      </template>\r\n                                  </v-breadcrumbs>\r\n                                </v-col>\r\n                            </v-row>\r\n                            <v-row>\r\n                                <v-col>\r\n3\r\n                                </v-col>\r\n                            </v-row>\r\n                        </v-col>\r\n                    </v-row>\r\n                </template>\r\n            </Cards>\r\n\r\n        </v-col>\r\n    </v-row>\r\n    <v-row class=\"flex-grow-0\">\r\n        <v-col class=\"pt-0\">\r\n            <v-card \r\n                class=\"flex-col flex-grow-1 rounded\"\r\n                color=\"main_theme\"\r\n                outlined               \r\n            >\r\n                <v-card-text class=\"flex-col flex-grow-1 pa-0 inyand\">\r\n                    <gant-work\r\n                        class=\"pa-1\"\r\n                        :startlevel=\"'work'\"\r\n                        @saver=\"gantsaver\" \r\n                        @changetab=\"changetab\"  \r\n                    />\r\n                </v-card-text>\r\n            </v-card>\r\n        </v-col>\r\n    </v-row>\r\n</v-container>\r\n</template>\r\n<script>\r\nimport GantWork from '@/components/visual/GantWork.vue'\r\nimport moment from \"moment\";\r\nimport { createNamespacedHelpers } from \"vuex\";\r\nimport {axiosInstance, axiosMp, URL} from '@/utils/api'\r\nconst assignmentstate = createNamespacedHelpers(\"assignmentstate\");\r\nconst projectstate = createNamespacedHelpers(\"projectstate\");\r\nconst taskstate = createNamespacedHelpers(\"taskstate\");\r\nconst workstate = createNamespacedHelpers(\"workstate\");\r\nimport uf from '@/utils/universal_functions'\r\nconst { mapGetters } = createNamespacedHelpers(\"auth\");\r\nexport default {\r\n    components:{GantWork},\r\n    mixins:[uf],\r\n    props:{\r\n      myid:{\r\n        type: Number,\r\n        default:0\r\n      }\r\n    },\r\n    data: () => ({\r\n      panel: [0, 1],\r\n    //   length: 15,\r\n      breadcrumbs:[{href:'',disabled:true,text:\"\"}],\r\n      comment:\"\",\r\n      workaccepted:0,\r\n      level:2,\r\n      textlevels:[{field:'project',text:\"В проекте\"},{field:'task',text:\"В задаче\"},{field:'work',text:\"В работе\"},{field:'assignment',text: \"В поручении\"}],\r\n      files:null,\r\n      tab: 0,    \r\n      ws:null,\r\n      work:{name:\"\", parent:{name:\"\"}, status:{name:\"\"}, comment:[],\r\n      responsible:{fullname:\"\", position:{name:\"\"}},\r\n      work_assignment:[{name:\"\", status:{name:\"\"},comment:[],\r\n      author:{fullname:\"\", position:{name:\"\"}},\r\n      responsible:{fullname:\"\", position:{name:\"\"}}}]}\r\n    }),\r\n\r\n    computed: {\r\n    ...mapGetters([\"getUser\", ]),\r\n    },\r\n    \r\n\r\n    watch: {\r\n        tab(val){         \r\n                this.textlevel=val==0?'work':\"assignment\" \r\n                this.level=val==0?2:3\r\n\r\n        }\r\n        },\r\n    //   length (val) {\r\n    //     this.tab = val - 1\r\n    //   },\r\n    // },\r\n\r\n    mounted(){\r\n        moment.locales('ru')  \r\n        this.ws = new this.$pws()\r\n        this.ws.start(this.$route.fullPath);\r\n         this.ws.addEvent('onmessage', (event) => {\r\n            const data = JSON.parse(event.data);\r\n            console.log(data);\r\n            if (\"action\" in data) {this[data.action](data.payload)}\r\n            else{console.log(data)}\r\n           \r\n        })\r\n    \r\n\r\n    },\r\n        beforeDestroy(){\r\n        console.log(\"destroy\");\r\n        this.ws.stop()\r\n    },\r\n    methods:{\r\n        ...projectstate.mapMutations([\"setProject\"]),\r\n        ...projectstate.mapGetters([\"getProject\",\"getprojectuniqueusers\"]),\r\n        ...workstate.mapGetters(['getworks']),\r\n        ...workstate.mapMutations([\"setWorks\"]),\r\n        ...assignmentstate.mapGetters(['getAssignments','getAssignmentdatestart','getAssignmentdateend']),\r\n\r\n\r\n  momentedtime(val){\r\n      return moment(val).locale(\"Ru\").format(\"HH:mm DD MMMM YYYY\")\r\n    },\r\n        momentedDay(val){\r\n      return moment(val).locale(\"Ru\").format(\"DD MMMM YYYY\")\r\n    },\r\n    assrerady(){\r\n      let result = false\r\n     \r\n      return  this.work.work_assignment.every(el=>[3,5].includes(el.status.id))\r\n    },\r\n    commentsplitter(text){\r\n      let t = text.split(\":\")\r\n      t.shift()\r\n      return t.join(\"\")\r\n    },\r\n    changetab(id){\r\n      \r\n      this.tab=this.work.work_assignment.findIndex(el=>el.id==id)+1\r\n    },\r\n\r\n\r\n    gantsaver(val){\r\n      console.log(val.method, this[`get${val.level}`]());\r\n      \r\n        this.ws.send({\"action\":val.method,\"payload\":this[`get${val.level}`]()})\r\n        // console.log({\"action\":val.method,\"payload\":this[`get${val.level}`]()};\r\n    },\r\n    changestatus(val, action){      \r\n        let payload = {id:val.id,status: action, work_status_update:this.work.status.id<2?true:false}\r\n        let check = this.getProject()\r\n        \r\n        let task = check.tasks.find(el=>el.id == this.work.parent.id)\r\n       \r\n        payload['project_status_update']=check.status.id<2?true:false\r\n        payload['task_status_update']= task.status.id<2?true:false\r\n        payload['projid']=task.parent.id\r\n        console.log(payload['work_status_update']);\r\n      this.ws.send({\"action\":\"assignmentstatus\",\"payload\":payload})\r\n\r\n    },\r\n    changestatusParent(val, action){\r\n      let payload = {id:val.id, status: action,project:this.getProject().id}\r\n      this.ws.send({\"action\":\"workstatusconfirm\",\"payload\":payload})\r\n\r\n    },\r\n        build(payload){\r\n            if (\"project\" in payload)             this.setProject(payload.project)\r\n             \r\n             let wc = 0\r\n             payload.work.work_files.forEach((el,index)=> payload.work.work_files[index].visible =el.visible.split(\"\") )\r\n             payload.work.work_assignment.forEach(el=> {if(el.status.name==\"Завершено\") wc+=1})\r\n             this.workaccepted=wc/payload.work.work_assignment.length*100\r\n           \r\n            this.setWorks(payload.work)\r\n             this.work = this.getworks()\r\n            if (this.myid>0) this.changetab(this.myid)\r\n            this.breadcrumbs=[\r\n                                { text: this.getProject().name, disabled: false, href: `/project/${this.getProject().id}` },                               \r\n                                   { text: this.work.parent.name, disabled: false, href: `/task/${this.work.parent.id}`  },                                       \r\n                                          { text: this.work.name,  disabled: false,  href: `` }, ]\r\n            \r\n           \r\n            \r\n        },\r\n\r\n        confirmation(elm,res, text){\r\n          \r\n          let ob = [moment().locale(\"Ru\").format(\"HH:mm DD MMMM YYYY\"), text + `${this.comment.length>0? \": \" + this.comment:\"\"}`]\r\n          let payload = {id:elm.id, status:res, commentadd: ob}\r\n          payload['work_status_update'] = this.work.work_assignment.every(el=>{ if(el.id==elm.id && res==5){return true}\r\n                                                                                else if(el.status.id==5){return true}\r\n                                                                                return false\r\n        \r\n        })?{\"res\":true,\"project\":this.getProject().id}:{'res':false}\r\n        // console.log(payload['work_status_update'] );\r\n          this.ws.send({\"action\":\"confirmation\",\"payload\":payload})\r\n          this.comment=\"\"\r\n        },\r\n        \r\n        VisSwitcher(file){     \r\n        console.log(file.visible);\r\n\r\n        this.ws.send({\"action\":\"updateFile\",\"payload\":{id:file.id,visible: file.visible.join(\"\")}})\r\n     \r\n           },\r\n\r\n\r\n        fileupdated(payload){            \r\n            let ind = this.work.work_files.findIndex(el=>el.id==payload.id)        \r\n             this.work.work_files[ind].visible=payload.visible.split(\"\")\r\n         \r\n         \r\n        },\r\n        deletefile(file){\r\n            this.ws.send({\"action\":\"deletefile\",\"payload\":{id:file.id,filepath:file.filepath\r\n}})\r\n        },\r\n        filerenew(payload){\r\n            payload.work_files.forEach((el,index)=> payload.work_files[index].visible =el.visible.split(\"\") )\r\n            this.work.work_files = payload.work_files\r\n        }\r\n\r\n        ,\r\n\r\n        filedeleted(payload){     \r\n            \r\n                \r\n            let ind = this.work.work_files.findIndex(el=>el.id==payload.id)\r\n            this.work.work_files.splice(ind,1)\r\n            \r\n        },\r\n        assupdate(payload){\r\n          console.log(payload);\r\n          if(payload.bigbuild){\r\n              this.rebuild()\r\n             \r\n            }\r\n            let ind = this.work.work_assignment.findIndex(el=>el.id==payload.assignment.id)\r\n            for (let [key,val] of Object.entries(payload.assignment\r\n        ))\r\n            {\r\n                this.work.work_assignment[ind][key]=val\r\n\r\n            }\r\n            \r\n            \r\n        },\r\n        rebuild(){\r\n          this.ws.send({\"action\":\"rebuild\",\"payload\": this.work.id})\r\n        },\r\n        async uploadfile(ind){\r\n              \r\n            let formData = new FormData();   \r\n            this.files.forEach(el => {formData.append('file',el)\r\n                \r\n            });\r\n           this.files=null\r\n            let fileinfo = {project:this.getProject().id, work:this.work.id, task:this.work.parent.id, visible: '0010'}\r\n            if (this.level==3){\r\n                fileinfo['assignment']=this.work.work_assignment[ind-1].id\r\n                fileinfo.visible='0001'\r\n            }\r\n            formData.append('info', JSON.stringify(fileinfo))\r\n            let res = await axiosInstance.post( `/main/uploader`, formData,{\r\n                                        headers: {\r\n                                            \"Content-Type\": \"multipart/form-data\",\r\n                                        },\r\n                            })\r\n            if (\"created\" in res.data){\r\n                this.ws.send({\"action\":\"fileuploaded\",\"payload\":this.work.id})\r\n            }\r\n        }\r\n\r\n\r\n    }   \r\n        \r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n.pointer{\r\n  cursor: pointer;\r\n}\r\nfieldset {\r\n  height: 2.5rem;\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Events.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Events.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Events.vue?vue&type=template&id=74158ab5&\"\nimport script from \"./Events.vue?vue&type=script&lang=js&\"\nexport * from \"./Events.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Events.vue?vue&type=style&index=0&id=74158ab5&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBreadcrumbs } from 'vuetify/lib/components/VBreadcrumbs';\nimport { VBreadcrumbsItem } from 'vuetify/lib/components/VBreadcrumbs';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBreadcrumbs,VBreadcrumbsItem,VCard,VCardText,VCol,VContainer,VRow})\n"],"names":["mixins","extend","name","props","divider","type","String","default","items","Array","large","Boolean","computed","classes","this","themeClasses","methods","genDivider","$createElement","VBreadcrumbsDivider","$slots","genItems","hasSlot","$scopedSlots","item","keys","i","length","push","text","VBreadcrumbsItem","key","join","render","h","children","staticClass","class","activeClass","ripple","Object","disabled","tag","data","generateRouteLink","attrs","isActive","isLink","undefined","_vm","_h","_c","_self","model","value","callback","$$v","expression","longname","actionmethod","min","max","datestartstore","dateendstore","resources","responsible_text","responsible","_v","difficult","description","staticRenderFns","component","VCol","ref","ganttRef","startDateRange","endDateRange","scale","onCustomCommandClick","onContextMenuPreparing","on","onTaskDblClick","scopedSlots","_u","fn","taskk","statuser","id","_s","title","start","toLocaleDateString","end","_e","getTaskColor","taskData","style","width","taskSize","taskResources","contextMenuItems","$event","stopPropagation","$emit","proxy","createAssignment","apply","arguments","tasks","resourceAssignments","dialog","dialoginfo","changeddialog","saveit","deldialog","back","projectstate","taskstate","workstate","assignmentstate","VBtn","breadcrumbs","href","toUpperCase","gantsaver","changetab","VBreadcrumbs"],"sourceRoot":""}